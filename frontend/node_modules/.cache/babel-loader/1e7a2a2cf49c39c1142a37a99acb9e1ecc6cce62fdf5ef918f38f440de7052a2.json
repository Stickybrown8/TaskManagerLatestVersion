{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useAppDispatch,useAppSelector}from'../hooks';import{fetchGamificationProfileStart,fetchGamificationProfileSuccess,fetchGamificationProfileFailure,fetchBadgesStart,fetchBadgesSuccess,fetchActivitiesStart,fetchActivitiesSuccess,fetchActivitiesFailure,fetchLevelsStart,fetchLevelsSuccess}from'../store/slices/gamificationSlice';import{gamificationService,badgesService}from'../services/api';import{addNotification}from'../store/slices/uiSlice';import{motion}from'framer-motion';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Gamification=()=>{var _getNextLevel;const dispatch=useAppDispatch();const{level,experience,actionPoints,totalPointsEarned,currentStreak,longestStreak,badges,activities,levels,loading,error}=useAppSelector(state=>state.gamification);const[activeTab,setActiveTab]=useState('overview');const[currentPage,setCurrentPage]=useState(1);const[totalPages,setTotalPages]=useState(1);// Fonction utilitaire pour gérer les dates potentiellement undefined\nconst safeDate=dateStr=>{if(!dateStr)return new Date();try{return new Date(dateStr);}catch(error){return new Date();}};// Définir loadActivities avec useCallback avant de l'utiliser dans useEffect\nconst loadActivities=useCallback(async page=>{try{dispatch(fetchActivitiesStart());const activitiesData=await gamificationService.getActivities(page,10);dispatch(fetchActivitiesSuccess(activitiesData.activities));setTotalPages(activitiesData.pagination.pages);}catch(error){dispatch(fetchActivitiesFailure(error.message));dispatch(addNotification({message:'Erreur lors du chargement des activités',type:'error'}));}},[dispatch]);// Charger les données de gamification au chargement de la page\nuseEffect(()=>{const loadGamificationData=async()=>{try{// Charger le profil de gamification\ndispatch(fetchGamificationProfileStart());const profileData=await gamificationService.getProfile();dispatch(fetchGamificationProfileSuccess(profileData));// Charger les badges\ndispatch(fetchBadgesStart());const badgesData=await badgesService.getUserBadges();dispatch(fetchBadgesSuccess(badgesData));// Charger les niveaux\ndispatch(fetchLevelsStart());const levelsData=await gamificationService.getLevels();dispatch(fetchLevelsSuccess(levelsData));// Mettre à jour le streak\nawait gamificationService.updateStreak();// Charger les activités (première page)\nloadActivities(1);}catch(error){dispatch(fetchGamificationProfileFailure(error.message));dispatch(addNotification({message:'Erreur lors du chargement des données de gamification',type:'error'}));}};loadGamificationData();},[dispatch,loadActivities]);// Maintenant loadActivities est défini avant d'être utilisé ici\n// Changer de page d'activités\nconst handlePageChange=page=>{setCurrentPage(page);loadActivities(page);};// Formater la date - Version corrigée\nconst formatDate=dateStr=>{if(!dateStr)return'N/A';try{// Utiliser la fonction safeDate pour éviter l'erreur TypeScript\nconst dateObj=safeDate(dateStr);return dateObj.toLocaleDateString('fr-FR',{year:'numeric',month:'long',day:'numeric'});}catch(error){return'Date invalide';}};// Obtenir le niveau suivant\nconst getNextLevel=()=>{if(!levels||levels.length===0)return null;return levels.find(l=>l.level===level+1);};// Calculer le pourcentage d'expérience pour le niveau suivant\nconst calculateExperiencePercentage=()=>{if(!levels||levels.length===0)return 0;const currentLevelData=levels.find(l=>l.level===level);const nextLevelData=levels.find(l=>l.level===level+1);if(!currentLevelData||!nextLevelData)return 0;const currentLevelXP=currentLevelData.experienceRequired;const nextLevelXP=nextLevelData.experienceRequired;const xpNeeded=nextLevelXP-currentLevelXP;const xpProgress=experience-currentLevelXP;return Math.min(100,Math.max(0,Math.floor(xpProgress/xpNeeded*100)));};// Obtenir la couleur en fonction de la rareté du badge\nconst getBadgeRarityColor=rarity=>{switch(rarity){case'commun':return'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';case'rare':return'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';case'épique':return'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200';case'légendaire':return'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';default:return'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';}};// Obtenir l'icône en fonction du type d'activité\nconst getActivityIcon=type=>{switch(type){case'tâche_complétée':return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-10 h-10 rounded-full bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M5 13l4 4L19 7\"})})});case'badge_obtenu':return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-10 h-10 rounded-full bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"})})});case'niveau_augmenté':return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-10 h-10 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"})})});case'points_action_gagnés':return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-10 h-10 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})})});case'experience_gagnée':return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-10 h-10 rounded-full bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"})})});default:return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"})})});}};if(loading&&!badges.length&&!activities.length){return/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 p-4 rounded-md\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900 dark:text-white\",children:\"Gamification\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 mt-1\",children:\"Suivez votre progression et vos r\\xE9compenses\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300 mr-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Points d'action\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 text-sm\",children:\"Utilisables pour des bonus\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-primary-600 dark:text-primary-400\",children:actionPoints}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400 mt-1\",children:[\"Total gagn\\xE9: \",totalPointsEarned]})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.1},className:\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 rounded-full bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300 mr-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Niveau\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 text-sm\",children:\"Votre progression\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-3xl font-bold text-secondary-600 dark:text-secondary-400\",children:level}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs text-gray-600 dark:text-gray-300 mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Progression\"}),/*#__PURE__*/_jsxs(\"span\",{children:[calculateExperiencePercentage(),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-full bg-secondary-500 rounded-full\",style:{width:`${calculateExperiencePercentage()}%`}})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 dark:text-gray-400 mt-1\",children:getNextLevel()?`Prochain niveau: ${(_getNextLevel=getNextLevel())===null||_getNextLevel===void 0?void 0:_getNextLevel.name}`:'Niveau maximum atteint'})]})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5,delay:0.2},className:\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center w-12 h-12 rounded-full bg-success-100 text-success-600 dark:bg-success-900 dark:text-success-300 mr-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900 dark:text-white\",children:\"Streak\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 text-sm\",children:\"Jours cons\\xE9cutifs d'activit\\xE9\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-3xl font-bold text-success-600 dark:text-success-400\",children:[currentStreak,\" jours\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 dark:text-gray-400 mt-1\",children:[\"Record: \",longestStreak,\" jours\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex border-b border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"button\",{className:`px-6 py-3 text-sm font-medium ${activeTab==='overview'?'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500':'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}`,onClick:()=>setActiveTab('overview'),children:\"Vue d'ensemble\"}),/*#__PURE__*/_jsx(\"button\",{className:`px-6 py-3 text-sm font-medium ${activeTab==='badges'?'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500':'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}`,onClick:()=>setActiveTab('badges'),children:\"Badges\"}),/*#__PURE__*/_jsx(\"button\",{className:`px-6 py-3 text-sm font-medium ${activeTab==='activities'?'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500':'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}`,onClick:()=>setActiveTab('activities'),children:\"Activit\\xE9s\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Votre progression\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4\",children:\"Niveaux et r\\xE9compenses\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:levels.map(levelData=>/*#__PURE__*/_jsx(\"div\",{className:`p-4 rounded-lg border ${levelData.level===level?'border-secondary-500 bg-secondary-50 dark:bg-secondary-900/20':levelData.level<level?'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50':'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 opacity-60'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:`flex items-center justify-center w-10 h-10 rounded-full ${levelData.level<=level?'bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300':'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400'} mr-3`,children:/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold\",children:levelData.level})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 dark:text-white\",children:levelData.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-300\",children:levelData.level<=level?'Débloqué':`Requis: ${levelData.experienceRequired} XP`})]})]}),levelData.level===level&&/*#__PURE__*/_jsx(\"span\",{className:\"px-3 py-1 text-xs rounded-full bg-secondary-100 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-200\",children:\"Niveau actuel\"})]})},levelData.level))})]}),badges.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-800 dark:text-gray-200\",children:\"Badges r\\xE9cents\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('badges'),className:\"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300\",children:\"Voir tous les badges\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\",children:badges.slice(0,4).map(badge=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:badge.icon,alt:badge.name,className:\"w-16 h-16 mx-auto mb-2 object-contain\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 dark:text-white text-sm\",children:badge.name}),/*#__PURE__*/_jsx(\"span\",{className:`inline-block px-2 py-1 text-xs rounded-full mt-2 ${getBadgeRarityColor(badge.rarity)}`,children:badge.rarity.charAt(0).toUpperCase()+badge.rarity.slice(1)})]},badge._id))})]})]}),activeTab==='badges'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:[\"Vos badges (\",badges.length,\")\"]}),badges.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"Aucun badge pour le moment\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 mb-4\",children:\"Compl\\xE9tez des t\\xE2ches et relevez des d\\xE9fis pour gagner des badges !\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6\",children:badges.map(badge=>/*#__PURE__*/_jsxs(motion.div,{whileHover:{y:-5,transition:{duration:0.2}},className:\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:badge.icon,alt:badge.name,className:\"w-20 h-20 mx-auto mb-3 object-contain\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-gray-900 dark:text-white\",children:badge.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:`px-2 py-1 text-xs rounded-full ${getBadgeRarityColor(badge.rarity)}`,children:badge.rarity.charAt(0).toUpperCase()+badge.rarity.slice(1)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:[\"Obtenu le \",formatDate(badge.date||badge.earnedAt||badge.createdAt)]})]})]},badge._id))})]}),activeTab==='activities'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white mb-4\",children:\"Historique d'activit\\xE9s\"}),activities.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-16 h-16 text-gray-400 mx-auto mb-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 dark:text-white mb-2\",children:\"Aucune activit\\xE9 r\\xE9cente\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-300 mb-4\",children:\"Vos activit\\xE9s r\\xE9centes appara\\xEEtront ici.\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:activities.map(activity=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 flex\",children:[getActivityIcon(activity.type),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-900 dark:text-white\",children:activity.name||activity.title||\"Activité\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 dark:text-gray-400\",children:formatDate(activity.date||activity.createdAt)})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-300 mt-1\",children:activity.description}),(activity.reward>0||activity.points>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 text-sm font-medium text-primary-600 dark:text-primary-400\",children:[\"+\",activity.reward||activity.points,\" points\"]})]})]},activity._id))}),totalPages>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-6\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(Math.max(1,currentPage-1)),disabled:currentPage===1,className:`px-3 py-1 rounded-md ${currentPage===1?'text-gray-400 cursor-not-allowed':'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'}`,children:\"Pr\\xE9c\\xE9dent\"}),Array.from({length:totalPages},(_,i)=>i+1).map(page=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(page),className:`px-3 py-1 rounded-md ${currentPage===page?'bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300':'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'}`,children:page},page)),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(Math.min(totalPages,currentPage+1)),disabled:currentPage===totalPages,className:`px-3 py-1 rounded-md ${currentPage===totalPages?'text-gray-400 cursor-not-allowed':'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'}`,children:\"Suivant\"})]})})]})]})]})]});};export default Gamification;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAppDispatch","useAppSelector","fetchGamificationProfileStart","fetchGamificationProfileSuccess","fetchGamificationProfileFailure","fetchBadgesStart","fetchBadgesSuccess","fetchActivitiesStart","fetchActivitiesSuccess","fetchActivitiesFailure","fetchLevelsStart","fetchLevelsSuccess","gamificationService","badgesService","addNotification","motion","jsx","_jsx","jsxs","_jsxs","Gamification","_getNextLevel","dispatch","level","experience","actionPoints","totalPointsEarned","currentStreak","longestStreak","badges","activities","levels","loading","error","state","gamification","activeTab","setActiveTab","currentPage","setCurrentPage","totalPages","setTotalPages","safeDate","dateStr","Date","loadActivities","page","activitiesData","getActivities","pagination","pages","message","type","loadGamificationData","profileData","getProfile","badgesData","getUserBadges","levelsData","getLevels","updateStreak","handlePageChange","formatDate","dateObj","toLocaleDateString","year","month","day","getNextLevel","length","find","l","calculateExperiencePercentage","currentLevelData","nextLevelData","currentLevelXP","experienceRequired","nextLevelXP","xpNeeded","xpProgress","Math","min","max","floor","getBadgeRarityColor","rarity","getActivityIcon","className","children","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","div","initial","opacity","y","animate","transition","duration","delay","style","width","name","onClick","map","levelData","slice","badge","src","icon","alt","charAt","toUpperCase","_id","whileHover","date","earnedAt","createdAt","activity","title","description","reward","points","disabled","Array","from","_","i"],"sources":["C:/Users/Steve/Documents/Dernier projet task manager/task-manager-complete-main (1)/task-manager-complete-main/frontend/src/pages/Gamification.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../hooks';\r\nimport {\r\n  fetchGamificationProfileStart,\r\n  fetchGamificationProfileSuccess,\r\n  fetchGamificationProfileFailure,\r\n  fetchBadgesStart,\r\n  fetchBadgesSuccess,\r\n  fetchActivitiesStart,\r\n  fetchActivitiesSuccess,\r\n  fetchActivitiesFailure,\r\n  fetchLevelsStart,\r\n  fetchLevelsSuccess,\r\n} from '../store/slices/gamificationSlice';\r\nimport { gamificationService, badgesService } from '../services/api';\r\nimport { addNotification } from '../store/slices/uiSlice';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst Gamification: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    level,\r\n    experience,\r\n    actionPoints,\r\n    totalPointsEarned,\r\n    currentStreak,\r\n    longestStreak,\r\n    badges,\r\n    activities,\r\n    levels,\r\n    loading,\r\n    error\r\n  } = useAppSelector(state => state.gamification);\r\n\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  // Fonction utilitaire pour gérer les dates potentiellement undefined\r\n  const safeDate = (dateStr: any): Date => {\r\n    if (!dateStr) return new Date();\r\n    try {\r\n      return new Date(dateStr);\r\n    } catch (error) {\r\n      return new Date();\r\n    }\r\n  };\r\n\r\n  // Définir loadActivities avec useCallback avant de l'utiliser dans useEffect\r\n  const loadActivities = useCallback(async (page: number) => {\r\n    try {\r\n      dispatch(fetchActivitiesStart());\r\n      const activitiesData = await gamificationService.getActivities(page, 10);\r\n      dispatch(fetchActivitiesSuccess(activitiesData.activities));\r\n      setTotalPages(activitiesData.pagination.pages);\r\n    } catch (error: any) {\r\n      dispatch(fetchActivitiesFailure(error.message));\r\n      dispatch(addNotification({\r\n        message: 'Erreur lors du chargement des activités',\r\n        type: 'error'\r\n      }));\r\n    }\r\n  }, [dispatch]);\r\n\r\n  // Charger les données de gamification au chargement de la page\r\n  useEffect(() => {\r\n    const loadGamificationData = async () => {\r\n      try {\r\n        // Charger le profil de gamification\r\n        dispatch(fetchGamificationProfileStart());\r\n        const profileData = await gamificationService.getProfile();\r\n        dispatch(fetchGamificationProfileSuccess(profileData));\r\n\r\n        // Charger les badges\r\n        dispatch(fetchBadgesStart());\r\n        const badgesData = await badgesService.getUserBadges();\r\n        dispatch(fetchBadgesSuccess(badgesData));\r\n\r\n        // Charger les niveaux\r\n        dispatch(fetchLevelsStart());\r\n        const levelsData = await gamificationService.getLevels();\r\n        dispatch(fetchLevelsSuccess(levelsData));\r\n\r\n        // Mettre à jour le streak\r\n        await gamificationService.updateStreak();\r\n\r\n        // Charger les activités (première page)\r\n        loadActivities(1);\r\n      } catch (error: any) {\r\n        dispatch(fetchGamificationProfileFailure(error.message));\r\n        dispatch(addNotification({\r\n          message: 'Erreur lors du chargement des données de gamification',\r\n          type: 'error'\r\n        }));\r\n      }\r\n    };\r\n\r\n    loadGamificationData();\r\n  }, [dispatch, loadActivities]); // Maintenant loadActivities est défini avant d'être utilisé ici\r\n\r\n  // Changer de page d'activités\r\n  const handlePageChange = (page: number) => {\r\n    setCurrentPage(page);\r\n    loadActivities(page);\r\n  };\r\n\r\n  // Formater la date - Version corrigée\r\n  const formatDate = (dateStr: any): string => {\r\n    if (!dateStr) return 'N/A';\r\n\r\n    try {\r\n      // Utiliser la fonction safeDate pour éviter l'erreur TypeScript\r\n      const dateObj = safeDate(dateStr);\r\n      return dateObj.toLocaleDateString('fr-FR', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      });\r\n    } catch (error) {\r\n      return 'Date invalide';\r\n    }\r\n  };\r\n\r\n  // Obtenir le niveau suivant\r\n  const getNextLevel = () => {\r\n    if (!levels || levels.length === 0) return null;\r\n    return levels.find(l => l.level === level + 1);\r\n  };\r\n\r\n  // Calculer le pourcentage d'expérience pour le niveau suivant\r\n  const calculateExperiencePercentage = () => {\r\n    if (!levels || levels.length === 0) return 0;\r\n\r\n    const currentLevelData = levels.find(l => l.level === level);\r\n    const nextLevelData = levels.find(l => l.level === level + 1);\r\n\r\n    if (!currentLevelData || !nextLevelData) return 0;\r\n\r\n    const currentLevelXP = currentLevelData.experienceRequired;\r\n    const nextLevelXP = nextLevelData.experienceRequired;\r\n    const xpNeeded = nextLevelXP - currentLevelXP;\r\n    const xpProgress = experience - currentLevelXP;\r\n\r\n    return Math.min(100, Math.max(0, Math.floor((xpProgress / xpNeeded) * 100)));\r\n  };\r\n\r\n  // Obtenir la couleur en fonction de la rareté du badge\r\n  const getBadgeRarityColor = (rarity: string) => {\r\n    switch (rarity) {\r\n      case 'commun':\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';\r\n      case 'rare':\r\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\r\n      case 'épique':\r\n        return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200';\r\n      case 'légendaire':\r\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';\r\n    }\r\n  };\r\n\r\n  // Obtenir l'icône en fonction du type d'activité\r\n  const getActivityIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'tâche_complétée':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'badge_obtenu':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'niveau_augmenté':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'points_action_gagnés':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'experience_gagnée':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  if (loading && !badges.length && !activities.length) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 p-4 rounded-md\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Gamification</h1>\r\n        <p className=\"text-gray-600 dark:text-gray-300 mt-1\">Suivez votre progression et vos récompenses</p>\r\n      </div>\r\n\r\n      {/* Vue d'ensemble */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\"\r\n        >\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300 mr-4\">\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Points d'action</h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm\">Utilisables pour des bonus</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-primary-600 dark:text-primary-400\">{actionPoints}</div>\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Total gagné: {totalPointsEarned}</div>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.1 }}\r\n          className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\"\r\n        >\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300 mr-4\">\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Niveau</h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm\">Votre progression</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-secondary-600 dark:text-secondary-400\">{level}</div>\r\n          <div className=\"mt-2\">\r\n            <div className=\"flex justify-between text-xs text-gray-600 dark:text-gray-300 mb-1\">\r\n              <span>Progression</span>\r\n              <span>{calculateExperiencePercentage()}%</span>\r\n            </div>\r\n            <div className=\"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full\">\r\n              <div\r\n                className=\"h-full bg-secondary-500 rounded-full\"\r\n                style={{ width: `${calculateExperiencePercentage()}%` }}\r\n              ></div>\r\n            </div>\r\n            <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n              {getNextLevel() ? `Prochain niveau: ${getNextLevel()?.name}` : 'Niveau maximum atteint'}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.2 }}\r\n          className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\"\r\n        >\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-success-100 text-success-600 dark:bg-success-900 dark:text-success-300 mr-4\">\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Streak</h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm\">Jours consécutifs d'activité</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-success-600 dark:text-success-400\">{currentStreak} jours</div>\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Record: {longestStreak} jours</div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* Onglets */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8\">\r\n        <div className=\"flex border-b border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            className={`px-6 py-3 text-sm font-medium ${activeTab === 'overview'\r\n                ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500'\r\n                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n            onClick={() => setActiveTab('overview')}\r\n          >\r\n            Vue d'ensemble\r\n          </button>\r\n          <button\r\n            className={`px-6 py-3 text-sm font-medium ${activeTab === 'badges'\r\n                ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500'\r\n                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n            onClick={() => setActiveTab('badges')}\r\n          >\r\n            Badges\r\n          </button>\r\n          <button\r\n            className={`px-6 py-3 text-sm font-medium ${activeTab === 'activities'\r\n                ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500'\r\n                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n            onClick={() => setActiveTab('activities')}\r\n          >\r\n            Activités\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {/* Vue d'ensemble */}\r\n          {activeTab === 'overview' && (\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Votre progression</h2>\r\n\r\n              {/* Niveaux */}\r\n              <div className=\"mb-8\">\r\n                <h3 className=\"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4\">Niveaux et récompenses</h3>\r\n                <div className=\"space-y-6\">\r\n                  {levels.map((levelData) => (\r\n                    <div\r\n                      key={levelData.level}\r\n                      className={`p-4 rounded-lg border ${levelData.level === level\r\n                          ? 'border-secondary-500 bg-secondary-50 dark:bg-secondary-900/20'\r\n                          : levelData.level < level\r\n                            ? 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50'\r\n                            : 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 opacity-60'\r\n                        }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className={`flex items-center justify-center w-10 h-10 rounded-full ${levelData.level <= level\r\n                              ? 'bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300'\r\n                              : 'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400'\r\n                            } mr-3`}>\r\n                            <span className=\"text-lg font-bold\">{levelData.level}</span>\r\n                          </div>\r\n                          <div>\r\n                            <h4 className=\"font-semibold text-gray-900 dark:text-white\">{levelData.name}</h4>\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                              {levelData.level <= level ? 'Débloqué' : `Requis: ${levelData.experienceRequired} XP`}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        {levelData.level === level && (\r\n                          <span className=\"px-3 py-1 text-xs rounded-full bg-secondary-100 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-200\">\r\n                            Niveau actuel\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Badges récents */}\r\n              {badges.length > 0 && (\r\n                <div>\r\n                  <div className=\"flex justify-between items-center mb-4\">\r\n                    <h3 className=\"text-lg font-medium text-gray-800 dark:text-gray-200\">Badges récents</h3>\r\n                    <button\r\n                      onClick={() => setActiveTab('badges')}\r\n                      className=\"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300\"\r\n                    >\r\n                      Voir tous les badges\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\r\n                    {badges.slice(0, 4).map((badge) => (\r\n                      <div key={badge._id} className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 text-center\">\r\n                        <img\r\n                          src={badge.icon}\r\n                          alt={badge.name}\r\n                          className=\"w-16 h-16 mx-auto mb-2 object-contain\"\r\n                        />\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white text-sm\">{badge.name}</h4>\r\n                        <span className={`inline-block px-2 py-1 text-xs rounded-full mt-2 ${getBadgeRarityColor(badge.rarity)}`}>\r\n                          {badge.rarity.charAt(0).toUpperCase() + badge.rarity.slice(1)}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Badges */}\r\n          {activeTab === 'badges' && (\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\r\n                Vos badges ({badges.length})\r\n              </h2>\r\n\r\n              {badges.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                  </svg>\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Aucun badge pour le moment</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n                    Complétez des tâches et relevez des défis pour gagner des badges !\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6\">\r\n                  {badges.map((badge) => (\r\n                    <motion.div\r\n                      key={badge._id}\r\n                      whileHover={{ y: -5, transition: { duration: 0.2 } }}\r\n                      className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 text-center\"\r\n                    >\r\n                      <img\r\n                        src={badge.icon}\r\n                        alt={badge.name}\r\n                        className=\"w-20 h-20 mx-auto mb-3 object-contain\"\r\n                      />\r\n                      <h3 className=\"font-semibold text-gray-900 dark:text-white\">{badge.name}</h3>\r\n                      <div className=\"flex flex-col space-y-2\">\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${getBadgeRarityColor(badge.rarity)}`}>\r\n                          {badge.rarity.charAt(0).toUpperCase() + badge.rarity.slice(1)}\r\n                        </span>\r\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                          {/* Utiliser formatDate avec une assertion de type pour éviter l'erreur */}\r\n                          Obtenu le {formatDate((badge as any).date || (badge as any).earnedAt || (badge as any).createdAt)}\r\n                        </span>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Activités */}\r\n          {activeTab === 'activities' && (\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\r\n                Historique d'activités\r\n              </h2>\r\n\r\n              {activities.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Aucune activité récente</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n                    Vos activités récentes apparaîtront ici.\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {activities.map((activity) => (\r\n                    <div key={activity._id} className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 flex\">\r\n                      {getActivityIcon(activity.type)}\r\n                      <div className=\"ml-4 flex-1\">\r\n                        <div className=\"flex justify-between\">\r\n                          {/* Utiliser une assertion de type pour éviter l'erreur */}\r\n                          <h3 className=\"font-medium text-gray-900 dark:text-white\">\r\n                            {(activity as any).name || (activity as any).title || \"Activité\"}\r\n                          </h3>\r\n                          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {/* Utiliser formatDate avec une assertion de type pour éviter l'erreur */}\r\n                            {formatDate((activity as any).date || (activity as any).createdAt)}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-1\">{activity.description}</p>\r\n                        {/* Utiliser une assertion de type pour éviter l'erreur */}\r\n                        {((activity as any).reward > 0 || (activity as any).points > 0) && (\r\n                          <div className=\"mt-2 text-sm font-medium text-primary-600 dark:text-primary-400\">\r\n                            +{(activity as any).reward || (activity as any).points} points\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/* Pagination */}\r\n              {totalPages > 1 && (\r\n                <div className=\"flex justify-center mt-6\">\r\n                  <nav className=\"flex items-center space-x-2\">\r\n                    <button\r\n                      onClick={() => handlePageChange(Math.max(1, currentPage - 1))}\r\n                      disabled={currentPage === 1}\r\n                      className={`px-3 py-1 rounded-md ${currentPage === 1\r\n                          ? 'text-gray-400 cursor-not-allowed'\r\n                          : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'\r\n                        }`}\r\n                    >\r\n                      Précédent\r\n                    </button>\r\n\r\n                    {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n                      <button\r\n                        key={page}\r\n                        onClick={() => handlePageChange(page)}\r\n                        className={`px-3 py-1 rounded-md ${currentPage === page\r\n                            ? 'bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300'\r\n                            : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'\r\n                          }`}\r\n                      >\r\n                        {page}\r\n                      </button>\r\n                    ))}\r\n\r\n                    <button\r\n                      onClick={() => handlePageChange(Math.min(totalPages, currentPage + 1))}\r\n                      disabled={currentPage === totalPages}\r\n                      className={`px-3 py-1 rounded-md ${currentPage === totalPages\r\n                          ? 'text-gray-400 cursor-not-allowed'\r\n                          : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'\r\n                        }`}\r\n                    >\r\n                      Suivant\r\n                    </button>\r\n                  </nav>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gamification;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}