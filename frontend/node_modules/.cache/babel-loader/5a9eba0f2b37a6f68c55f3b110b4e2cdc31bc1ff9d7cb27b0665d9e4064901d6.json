{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';// Types\n// État initial\nconst initialState={sidebarOpen:true,darkMode:window.matchMedia('(prefers-color-scheme: dark)').matches,currentTheme:'default',notifications:[],modalOpen:false,modalContent:{type:null,data:null},loading:{global:false,tasks:false,clients:false,auth:false,gamification:false},soundEnabled:true};// Slice\nconst uiSlice=createSlice({name:'ui',initialState,reducers:{toggleSidebar:state=>{state.sidebarOpen=!state.sidebarOpen;},toggleDarkMode:state=>{state.darkMode=!state.darkMode;// Appliquer la classe au document\nif(state.darkMode){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}},setTheme:(state,action)=>{state.currentTheme=action.payload;},addNotification:(state,action)=>{const newNotification={id:Date.now().toString(),message:action.payload.message,type:action.payload.type,timestamp:Date.now(),read:false};state.notifications.unshift(newNotification);// Limiter à 10 notifications\nif(state.notifications.length>10){state.notifications.pop();}},markNotificationAsRead:(state,action)=>{const notification=state.notifications.find(n=>n.id===action.payload);if(notification){notification.read=true;}},clearNotifications:state=>{state.notifications=[];},openModal:(state,action)=>{state.modalOpen=true;state.modalContent=action.payload;},closeModal:state=>{state.modalOpen=false;state.modalContent={type:null,data:null};},setLoading:(state,action)=>{state.loading[action.payload.key]=action.payload.value;// Mettre à jour le loading global\nconst loadingValues=Object.values(state.loading);state.loading.global=loadingValues.some(value=>value===true);},toggleSound:state=>{state.soundEnabled=!state.soundEnabled;}}});// Actions\nexport const{toggleSidebar,toggleDarkMode,setTheme,addNotification,markNotificationAsRead,clearNotifications,openModal,closeModal,setLoading,toggleSound}=uiSlice.actions;// Reducer\nexport default uiSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","sidebarOpen","darkMode","window","matchMedia","matches","currentTheme","notifications","modalOpen","modalContent","type","data","loading","global","tasks","clients","auth","gamification","soundEnabled","uiSlice","name","reducers","toggleSidebar","state","toggleDarkMode","document","documentElement","classList","add","remove","setTheme","action","payload","addNotification","newNotification","id","Date","now","toString","message","timestamp","read","unshift","length","pop","markNotificationAsRead","notification","find","n","clearNotifications","openModal","closeModal","setLoading","key","value","loadingValues","Object","values","some","toggleSound","actions","reducer"],"sources":["C:/Users/Steve/Documents/Dernier projet task manager/task-manager-complete-main (1)/task-manager-complete-main/frontend/src/store/slices/uiSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\n// Types\ninterface UIState {\n  sidebarOpen: boolean;\n  darkMode: boolean;\n  currentTheme: string;\n  notifications: Notification[];\n  modalOpen: boolean;\n  modalContent: {\n    type: 'task' | 'client' | 'profile' | 'badge' | null;\n    data: any;\n  };\n  loading: {\n    global: boolean;\n    tasks: boolean;\n    clients: boolean;\n    auth: boolean;\n    gamification: boolean;\n  };\n  soundEnabled: boolean;\n}\n\ninterface Notification {\n  id: string;\n  message: string;\n  type: 'success' | 'error' | 'info' | 'warning';\n  timestamp: number;\n  read: boolean;\n}\n\n// État initial\nconst initialState: UIState = {\n  sidebarOpen: true,\n  darkMode: window.matchMedia('(prefers-color-scheme: dark)').matches,\n  currentTheme: 'default',\n  notifications: [],\n  modalOpen: false,\n  modalContent: {\n    type: null,\n    data: null,\n  },\n  loading: {\n    global: false,\n    tasks: false,\n    clients: false,\n    auth: false,\n    gamification: false,\n  },\n  soundEnabled: true,\n};\n\n// Slice\nconst uiSlice = createSlice({\n  name: 'ui',\n  initialState,\n  reducers: {\n    toggleSidebar: (state) => {\n      state.sidebarOpen = !state.sidebarOpen;\n    },\n    toggleDarkMode: (state) => {\n      state.darkMode = !state.darkMode;\n      // Appliquer la classe au document\n      if (state.darkMode) {\n        document.documentElement.classList.add('dark');\n      } else {\n        document.documentElement.classList.remove('dark');\n      }\n    },\n    setTheme: (state, action: PayloadAction<string>) => {\n      state.currentTheme = action.payload;\n    },\n    addNotification: (state, action: PayloadAction<Omit<Notification, 'id' | 'timestamp' | 'read'>>) => {\n      const newNotification: Notification = {\n        id: Date.now().toString(),\n        message: action.payload.message,\n        type: action.payload.type,\n        timestamp: Date.now(),\n        read: false,\n      };\n      state.notifications.unshift(newNotification);\n      \n      // Limiter à 10 notifications\n      if (state.notifications.length > 10) {\n        state.notifications.pop();\n      }\n    },\n    markNotificationAsRead: (state, action: PayloadAction<string>) => {\n      const notification = state.notifications.find(n => n.id === action.payload);\n      if (notification) {\n        notification.read = true;\n      }\n    },\n    clearNotifications: (state) => {\n      state.notifications = [];\n    },\n    openModal: (state, action: PayloadAction<UIState['modalContent']>) => {\n      state.modalOpen = true;\n      state.modalContent = action.payload;\n    },\n    closeModal: (state) => {\n      state.modalOpen = false;\n      state.modalContent = {\n        type: null,\n        data: null,\n      };\n    },\n    setLoading: (state, action: PayloadAction<{ key: keyof UIState['loading']; value: boolean }>) => {\n      state.loading[action.payload.key] = action.payload.value;\n      \n      // Mettre à jour le loading global\n      const loadingValues = Object.values(state.loading);\n      state.loading.global = loadingValues.some(value => value === true);\n    },\n    toggleSound: (state) => {\n      state.soundEnabled = !state.soundEnabled;\n    },\n  },\n});\n\n// Actions\nexport const {\n  toggleSidebar,\n  toggleDarkMode,\n  setTheme,\n  addNotification,\n  markNotificationAsRead,\n  clearNotifications,\n  openModal,\n  closeModal,\n  setLoading,\n  toggleSound,\n} = uiSlice.actions;\n\n// Reducer\nexport default uiSlice.reducer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}