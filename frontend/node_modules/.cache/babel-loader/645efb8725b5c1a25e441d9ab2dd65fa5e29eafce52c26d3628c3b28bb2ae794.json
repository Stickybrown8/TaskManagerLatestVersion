{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Steve\\\\Documents\\\\Dernier projet task manager\\\\task-manager-complete-main (1)\\\\task-manager-complete-main\\\\frontend\\\\src\\\\components\\\\timer\\\\TimerPopup.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { motion, useDragControls } from 'framer-motion';\nimport { fetchRunningTimer, startTimer, pauseTimer, resumeTimer, stopTimer, hideTimerPopup, setTimerPopupSize, setTimerPopupPosition, updateRunningTimerDuration } from '../../store/slices/timerSlice';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TimerPopup = () => {\n  _s();\n  var _runningTimer$clientI, _runningTimer$taskId, _getClientProfitabili, _getClientProfitabili2;\n  const dispatch = useDispatch();\n  const {\n    runningTimer,\n    loading,\n    error,\n    timerPopupVisible,\n    timerPopupSize,\n    timerPopupPosition\n  } = useSelector(state => state.timer);\n  const {\n    clientsProfitability\n  } = useSelector(state => state.profitability);\n  const {\n    clients\n  } = useSelector(state => state.clients);\n  const {\n    tasks\n  } = useSelector(state => state.tasks);\n  const [selectedClientId, setSelectedClientId] = useState('');\n  const [selectedTaskId, setSelectedTaskId] = useState('');\n  const [description, setDescription] = useState('');\n  const [billable, setBillable] = useState(true);\n  const [elapsedTime, setElapsedTime] = useState(0);\n  const [showNewTimerForm, setShowNewTimerForm] = useState(false);\n  const timerIntervalRef = useRef(null);\n  const dragControls = useDragControls();\n\n  // Récupérer le chronomètre en cours au chargement\n  useEffect(() => {\n    dispatch(fetchRunningTimer());\n  }, [dispatch]);\n\n  // Mettre à jour le temps écoulé toutes les secondes\n  useEffect(() => {\n    if (runningTimer && runningTimer.isRunning) {\n      timerIntervalRef.current = setInterval(() => {\n        dispatch(updateRunningTimerDuration());\n\n        // Calculer le temps écoulé\n        const startTime = new Date(runningTimer.startTime).getTime();\n        const now = Date.now();\n        let totalDuration = Math.floor((now - startTime) / 1000);\n\n        // Soustraire le temps total de pause\n        totalDuration -= runningTimer.totalPausedTime || 0;\n        setElapsedTime(totalDuration);\n      }, 1000);\n    } else if (runningTimer && !runningTimer.isRunning) {\n      // Pour un chronomètre en pause, afficher le temps actuel\n      setElapsedTime(runningTimer.getCurrentDuration || 0);\n    } else {\n      setElapsedTime(0);\n    }\n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n      }\n    };\n  }, [runningTimer, dispatch]);\n\n  // Formater le temps écoulé en HH:MM:SS\n  const formatTime = seconds => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor(seconds % 3600 / 60);\n    const secs = seconds % 60;\n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Démarrer un nouveau chronomètre\n  const handleStartTimer = () => {\n    if (!selectedClientId) return;\n    dispatch(startTimer({\n      clientId: selectedClientId,\n      taskId: selectedTaskId || undefined,\n      description,\n      billable\n    }));\n    setShowNewTimerForm(false);\n  };\n\n  // Mettre en pause le chronomètre en cours\n  const handlePauseTimer = () => {\n    if (runningTimer && runningTimer.isRunning) {\n      dispatch(pauseTimer(runningTimer._id));\n    }\n  };\n\n  // Reprendre le chronomètre en pause\n  const handleResumeTimer = () => {\n    if (runningTimer && !runningTimer.isRunning) {\n      dispatch(resumeTimer(runningTimer._id));\n    }\n  };\n\n  // Arrêter le chronomètre en cours\n  const handleStopTimer = () => {\n    if (runningTimer) {\n      dispatch(stopTimer(runningTimer._id));\n    }\n  };\n\n  // Fermer la popup\n  const handleClosePopup = () => {\n    dispatch(hideTimerPopup());\n  };\n\n  // Changer la taille de la popup\n  const handleChangeSize = size => {\n    dispatch(setTimerPopupSize(size));\n  };\n\n  // Gérer le début du drag\n  const handleDragStart = event => {\n    dragControls.start(event);\n  };\n\n  // Gérer la fin du drag\n  const handleDragEnd = info => {\n    dispatch(setTimerPopupPosition({\n      x: timerPopupPosition.x + info.offset.x,\n      y: timerPopupPosition.y + info.offset.y\n    }));\n  };\n\n  // Récupérer les informations de rentabilité du client sélectionné\n  const getClientProfitability = () => {\n    if (!runningTimer || !runningTimer.clientId) return null;\n    const clientId = typeof runningTimer.clientId === 'string' ? runningTimer.clientId : runningTimer.clientId._id;\n    return clientsProfitability.find(p => p.clientId._id === clientId);\n  };\n\n  // Calculer le temps restant pour la rentabilité\n  const getRemainingTimeForProfitability = () => {\n    const profitability = getClientProfitability();\n    if (!profitability || profitability.remainingHours <= 0) return null;\n\n    // Convertir les heures en secondes\n    const remainingSeconds = Math.ceil(profitability.remainingHours * 3600);\n\n    // Soustraire le temps actuel du chronomètre si facturable\n    if (runningTimer && runningTimer.billable) {\n      return Math.max(0, remainingSeconds - elapsedTime);\n    }\n    return remainingSeconds;\n  };\n\n  // Si la popup n'est pas visible, ne rien afficher\n  if (!timerPopupVisible) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    drag: true,\n    dragControls: dragControls,\n    onDragEnd: handleDragEnd,\n    dragMomentum: false,\n    initial: {\n      x: timerPopupPosition.x,\n      y: timerPopupPosition.y\n    },\n    animate: {\n      x: timerPopupPosition.x,\n      y: timerPopupPosition.y\n    },\n    className: `fixed z-50 bg-white rounded-lg shadow-lg overflow-hidden ${timerPopupSize === 'compact' ? 'w-64' : timerPopupSize === 'standard' ? 'w-80' : 'w-96'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-blue-600 text-white px-4 py-2 flex justify-between items-center cursor-move\",\n      onPointerDown: handleDragStart,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"font-semibold\",\n        children: runningTimer ? 'Chronomètre en cours' : 'Nouveau chronomètre'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleChangeSize('compact'),\n          className: `w-3 h-3 rounded-full ${timerPopupSize === 'compact' ? 'bg-white' : 'bg-blue-300'}`,\n          title: \"Compact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleChangeSize('standard'),\n          className: `w-3 h-3 rounded-full ${timerPopupSize === 'standard' ? 'bg-white' : 'bg-blue-300'}`,\n          title: \"Standard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleChangeSize('expanded'),\n          className: `w-3 h-3 rounded-full ${timerPopupSize === 'expanded' ? 'bg-white' : 'bg-blue-300'}`,\n          title: \"\\xC9tendu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClosePopup,\n          className: \"ml-2 text-white hover:text-red-200\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-5 w-5\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm\",\n        children: typeof error === 'string' ? error : 'Une erreur est survenue'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), runningTimer ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl font-mono text-center font-bold\",\n            children: formatTime(elapsedTime)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), timerPopupSize !== 'compact' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 mb-1\",\n            children: \"Client:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-medium\",\n            children: ((_runningTimer$clientI = runningTimer.clientId) === null || _runningTimer$clientI === void 0 ? void 0 : _runningTimer$clientI.name) || 'Client inconnu'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this), runningTimer.taskId && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mt-2 mb-1\",\n              children: \"T\\xE2che:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium\",\n              children: ((_runningTimer$taskId = runningTimer.taskId) === null || _runningTimer$taskId === void 0 ? void 0 : _runningTimer$taskId.title) || 'Tâche inconnue'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true), runningTimer.description && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mt-2 mb-1\",\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: runningTimer.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this), timerPopupSize === 'expanded' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 mb-1\",\n            children: \"Statut de facturation:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `font-medium ${runningTimer.billable ? 'text-green-600' : 'text-gray-600'}`,\n            children: runningTimer.billable ? 'Facturable' : 'Non facturable'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 17\n          }, this), runningTimer.billable && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mt-2 mb-1\",\n              children: \"Rentabilit\\xE9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 21\n            }, this), getClientProfitability() ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `font-medium ${(_getClientProfitabili = getClientProfitability()) !== null && _getClientProfitabili !== void 0 && _getClientProfitabili.isProfitable ? 'text-green-600' : 'text-red-600'}`,\n                children: (_getClientProfitabili2 = getClientProfitability()) !== null && _getClientProfitabili2 !== void 0 && _getClientProfitabili2.isProfitable ? 'Client rentable' : 'Client non rentable'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 25\n              }, this), getRemainingTimeForProfitability() !== null && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-600 mt-2 mb-1\",\n                  children: \"Temps restant pour rentabilit\\xE9:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium text-red-600\",\n                  children: formatTime(getRemainingTimeForProfitability() || 0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Donn\\xE9es de rentabilit\\xE9 non disponibles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [runningTimer.isRunning ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePauseTimer,\n            className: \"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 flex-1 mr-2\",\n            disabled: loading,\n            children: loading ? 'Patientez...' : 'Pause'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleResumeTimer,\n            className: \"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex-1 mr-2\",\n            disabled: loading,\n            children: loading ? 'Patientez...' : 'Reprendre'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStopTimer,\n            className: \"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex-1\",\n            disabled: loading,\n            children: loading ? 'Patientez...' : 'Arrêter'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: showNewTimerForm ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Client *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedClientId,\n              onChange: e => setSelectedClientId(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              required: true,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"S\\xE9lectionner un client\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this), clients.map(client => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: client._id,\n                children: client.name\n              }, client._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"T\\xE2che (optionnel)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedTaskId,\n              onChange: e => setSelectedTaskId(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Aucune t\\xE2che\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 21\n              }, this), tasks.filter(task => !selectedClientId || task.clientId === selectedClientId).map(task => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: task._id,\n                children: task.title\n              }, task._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 25\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Description (optionnel)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: description,\n              onChange: e => setDescription(e.target.value),\n              className: \"w-full px-3 py-2 border border-gray-300 rounded-md\",\n              placeholder: \"Que faites-vous ?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: billable,\n                onChange: e => setBillable(e.target.checked),\n                className: \"h-4 w-4 text-blue-600 border-gray-300 rounded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-2 text-sm text-gray-700\",\n                children: \"Facturable\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowNewTimerForm(false),\n              className: \"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\",\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleStartTimer,\n              className: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n              disabled: !selectedClientId || loading,\n              children: loading ? 'Patientez...' : 'Démarrer'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowNewTimerForm(true),\n          className: \"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",\n          children: \"D\\xE9marrer un chronom\\xE8tre\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 15\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 177,\n    columnNumber: 5\n  }, this);\n};\n_s(TimerPopup, \"ph8cRHdfdAI9RQp9uRaj0HrvIfA=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useDragControls];\n});\n_c = TimerPopup;\nexport default TimerPopup;\nvar _c;\n$RefreshReg$(_c, \"TimerPopup\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useDispatch","useSelector","motion","useDragControls","fetchRunningTimer","startTimer","pauseTimer","resumeTimer","stopTimer","hideTimerPopup","setTimerPopupSize","setTimerPopupPosition","updateRunningTimerDuration","jsxDEV","_jsxDEV","Fragment","_Fragment","TimerPopup","_s","_runningTimer$clientI","_runningTimer$taskId","_getClientProfitabili","_getClientProfitabili2","dispatch","runningTimer","loading","error","timerPopupVisible","timerPopupSize","timerPopupPosition","state","timer","clientsProfitability","profitability","clients","tasks","selectedClientId","setSelectedClientId","selectedTaskId","setSelectedTaskId","description","setDescription","billable","setBillable","elapsedTime","setElapsedTime","showNewTimerForm","setShowNewTimerForm","timerIntervalRef","dragControls","isRunning","current","setInterval","startTime","Date","getTime","now","totalDuration","Math","floor","totalPausedTime","getCurrentDuration","clearInterval","formatTime","seconds","hours","minutes","secs","toString","padStart","handleStartTimer","clientId","taskId","undefined","handlePauseTimer","_id","handleResumeTimer","handleStopTimer","handleClosePopup","handleChangeSize","size","handleDragStart","event","start","handleDragEnd","info","x","offset","y","getClientProfitability","find","p","getRemainingTimeForProfitability","remainingHours","remainingSeconds","ceil","max","div","drag","onDragEnd","dragMomentum","initial","animate","className","children","onPointerDown","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","xmlns","viewBox","fill","fillRule","d","clipRule","name","isProfitable","disabled","value","onChange","e","target","required","map","client","filter","task","type","placeholder","checked","_c","$RefreshReg$"],"sources":["C:/Users/Steve/Documents/Dernier projet task manager/task-manager-complete-main (1)/task-manager-complete-main/frontend/src/components/timer/TimerPopup.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { motion, useDragControls } from 'framer-motion';\nimport { \n  fetchRunningTimer, \n  startTimer, \n  pauseTimer, \n  resumeTimer, \n  stopTimer,\n  hideTimerPopup,\n  setTimerPopupSize,\n  setTimerPopupPosition,\n  updateRunningTimerDuration\n} from '../../store/slices/timerSlice';\nimport { RootState, AppDispatch } from '../../store';\n\nconst TimerPopup: React.FC = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { \n    runningTimer, \n    loading, \n    error, \n    timerPopupVisible, \n    timerPopupSize, \n    timerPopupPosition \n  } = useSelector((state: RootState) => state.timer);\n  \n  const { clientsProfitability } = useSelector((state: RootState) => state.profitability);\n  const { clients } = useSelector((state: RootState) => state.clients);\n  const { tasks } = useSelector((state: RootState) => state.tasks);\n  \n  const [selectedClientId, setSelectedClientId] = useState<string>('');\n  const [selectedTaskId, setSelectedTaskId] = useState<string>('');\n  const [description, setDescription] = useState<string>('');\n  const [billable, setBillable] = useState<boolean>(true);\n  const [elapsedTime, setElapsedTime] = useState<number>(0);\n  const [showNewTimerForm, setShowNewTimerForm] = useState<boolean>(false);\n  \n  const timerIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const dragControls = useDragControls();\n  \n  // Récupérer le chronomètre en cours au chargement\n  useEffect(() => {\n    dispatch(fetchRunningTimer());\n  }, [dispatch]);\n  \n  // Mettre à jour le temps écoulé toutes les secondes\n  useEffect(() => {\n    if (runningTimer && runningTimer.isRunning) {\n      timerIntervalRef.current = setInterval(() => {\n        dispatch(updateRunningTimerDuration());\n        \n        // Calculer le temps écoulé\n        const startTime = new Date(runningTimer.startTime).getTime();\n        const now = Date.now();\n        let totalDuration = Math.floor((now - startTime) / 1000);\n        \n        // Soustraire le temps total de pause\n        totalDuration -= runningTimer.totalPausedTime || 0;\n        \n        setElapsedTime(totalDuration);\n      }, 1000);\n    } else if (runningTimer && !runningTimer.isRunning) {\n      // Pour un chronomètre en pause, afficher le temps actuel\n      setElapsedTime(runningTimer.getCurrentDuration || 0);\n    } else {\n      setElapsedTime(0);\n    }\n    \n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n      }\n    };\n  }, [runningTimer, dispatch]);\n  \n  // Formater le temps écoulé en HH:MM:SS\n  const formatTime = (seconds: number): string => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    \n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  \n  // Démarrer un nouveau chronomètre\n  const handleStartTimer = () => {\n    if (!selectedClientId) return;\n    \n    dispatch(startTimer({\n      clientId: selectedClientId,\n      taskId: selectedTaskId || undefined,\n      description,\n      billable\n    }));\n    \n    setShowNewTimerForm(false);\n  };\n  \n  // Mettre en pause le chronomètre en cours\n  const handlePauseTimer = () => {\n    if (runningTimer && runningTimer.isRunning) {\n      dispatch(pauseTimer(runningTimer._id));\n    }\n  };\n  \n  // Reprendre le chronomètre en pause\n  const handleResumeTimer = () => {\n    if (runningTimer && !runningTimer.isRunning) {\n      dispatch(resumeTimer(runningTimer._id));\n    }\n  };\n  \n  // Arrêter le chronomètre en cours\n  const handleStopTimer = () => {\n    if (runningTimer) {\n      dispatch(stopTimer(runningTimer._id));\n    }\n  };\n  \n  // Fermer la popup\n  const handleClosePopup = () => {\n    dispatch(hideTimerPopup());\n  };\n  \n  // Changer la taille de la popup\n  const handleChangeSize = (size: 'compact' | 'standard' | 'expanded') => {\n    dispatch(setTimerPopupSize(size));\n  };\n  \n  // Gérer le début du drag\n  const handleDragStart = (event: React.PointerEvent<HTMLDivElement>) => {\n    dragControls.start(event);\n  };\n  \n  // Gérer la fin du drag\n  const handleDragEnd = (info: any) => {\n    dispatch(setTimerPopupPosition({\n      x: timerPopupPosition.x + info.offset.x,\n      y: timerPopupPosition.y + info.offset.y\n    }));\n  };\n  \n  // Récupérer les informations de rentabilité du client sélectionné\n  const getClientProfitability = () => {\n    if (!runningTimer || !runningTimer.clientId) return null;\n    \n    const clientId = typeof runningTimer.clientId === 'string' \n      ? runningTimer.clientId \n      : runningTimer.clientId._id;\n    \n    return clientsProfitability.find(p => p.clientId._id === clientId);\n  };\n  \n  // Calculer le temps restant pour la rentabilité\n  const getRemainingTimeForProfitability = () => {\n    const profitability = getClientProfitability();\n    if (!profitability || profitability.remainingHours <= 0) return null;\n    \n    // Convertir les heures en secondes\n    const remainingSeconds = Math.ceil(profitability.remainingHours * 3600);\n    \n    // Soustraire le temps actuel du chronomètre si facturable\n    if (runningTimer && runningTimer.billable) {\n      return Math.max(0, remainingSeconds - elapsedTime);\n    }\n    \n    return remainingSeconds;\n  };\n  \n  // Si la popup n'est pas visible, ne rien afficher\n  if (!timerPopupVisible) {\n    return null;\n  }\n  \n  return (\n    <motion.div\n      drag\n      dragControls={dragControls}\n      onDragEnd={handleDragEnd}\n      dragMomentum={false}\n      initial={{ x: timerPopupPosition.x, y: timerPopupPosition.y }}\n      animate={{ x: timerPopupPosition.x, y: timerPopupPosition.y }}\n      className={`fixed z-50 bg-white rounded-lg shadow-lg overflow-hidden ${\n        timerPopupSize === 'compact' ? 'w-64' : \n        timerPopupSize === 'standard' ? 'w-80' : \n        'w-96'\n      }`}\n    >\n      {/* Barre de titre avec poignée de drag */}\n      <div \n        className=\"bg-blue-600 text-white px-4 py-2 flex justify-between items-center cursor-move\"\n        onPointerDown={handleDragStart}\n      >\n        <div className=\"font-semibold\">\n          {runningTimer ? 'Chronomètre en cours' : 'Nouveau chronomètre'}\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => handleChangeSize('compact')}\n            className={`w-3 h-3 rounded-full ${timerPopupSize === 'compact' ? 'bg-white' : 'bg-blue-300'}`}\n            title=\"Compact\"\n          />\n          <button\n            onClick={() => handleChangeSize('standard')}\n            className={`w-3 h-3 rounded-full ${timerPopupSize === 'standard' ? 'bg-white' : 'bg-blue-300'}`}\n            title=\"Standard\"\n          />\n          <button\n            onClick={() => handleChangeSize('expanded')}\n            className={`w-3 h-3 rounded-full ${timerPopupSize === 'expanded' ? 'bg-white' : 'bg-blue-300'}`}\n            title=\"Étendu\"\n          />\n          <button\n            onClick={handleClosePopup}\n            className=\"ml-2 text-white hover:text-red-200\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"p-4\">\n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm\">\n            {typeof error === 'string' ? error : 'Une erreur est survenue'}\n          </div>\n        )}\n        \n        {runningTimer ? (\n          <>\n            {/* Affichage du chronomètre en cours */}\n            <div className=\"mb-4\">\n              <div className=\"text-4xl font-mono text-center font-bold\">\n                {formatTime(elapsedTime)}\n              </div>\n            </div>\n            \n            {timerPopupSize !== 'compact' && (\n              <div className=\"mb-4\">\n                <div className=\"text-sm text-gray-600 mb-1\">Client:</div>\n                <div className=\"font-medium\">\n                  {runningTimer.clientId?.name || 'Client inconnu'}\n                </div>\n                \n                {runningTimer.taskId && (\n                  <>\n                    <div className=\"text-sm text-gray-600 mt-2 mb-1\">Tâche:</div>\n                    <div className=\"font-medium\">\n                      {runningTimer.taskId?.title || 'Tâche inconnue'}\n                    </div>\n                  </>\n                )}\n                \n                {runningTimer.description && (\n                  <>\n                    <div className=\"text-sm text-gray-600 mt-2 mb-1\">Description:</div>\n                    <div className=\"text-sm\">\n                      {runningTimer.description}\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n            \n            {timerPopupSize === 'expanded' && (\n              <div className=\"mb-4\">\n                <div className=\"text-sm text-gray-600 mb-1\">Statut de facturation:</div>\n                <div className={`font-medium ${runningTimer.billable ? 'text-green-600' : 'text-gray-600'}`}>\n                  {runningTimer.billable ? 'Facturable' : 'Non facturable'}\n                </div>\n                \n                {runningTimer.billable && (\n                  <>\n                    <div className=\"text-sm text-gray-600 mt-2 mb-1\">Rentabilité:</div>\n                    {getClientProfitability() ? (\n                      <>\n                        <div className={`font-medium ${\n                          getClientProfitability()?.isProfitable ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {getClientProfitability()?.isProfitable \n                            ? 'Client rentable' \n                            : 'Client non rentable'}\n                        </div>\n                        \n                        {getRemainingTimeForProfitability() !== null && (\n                          <>\n                            <div className=\"text-sm text-gray-600 mt-2 mb-1\">\n                              Temps restant pour rentabilité:\n                            </div>\n                            <div className=\"font-medium text-red-600\">\n                              {formatTime(getRemainingTimeForProfitability() || 0)}\n                            </div>\n                          </>\n                        )}\n                      </>\n                    ) : (\n                      <div className=\"text-sm text-gray-600\">\n                        Données de rentabilité non disponibles\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n            )}\n            \n            <div className=\"flex justify-between\">\n              {runningTimer.isRunning ? (\n                <button\n                  onClick={handlePauseTimer}\n                  className=\"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 flex-1 mr-2\"\n                  disabled={loading}\n                >\n                  {loading ? 'Patientez...' : 'Pause'}\n                </button>\n              ) : (\n                <button\n                  onClick={handleResumeTimer}\n                  className=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex-1 mr-2\"\n                  disabled={loading}\n                >\n                  {loading ? 'Patientez...' : 'Reprendre'}\n                </button>\n              )}\n              \n              <button\n                onClick={handleStopTimer}\n                className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex-1\"\n                disabled={loading}\n              >\n                {loading ? 'Patientez...' : 'Arrêter'}\n              </button>\n            </div>\n          </>\n        ) : (\n          <>\n            {/* Formulaire pour démarrer un nouveau chronomètre */}\n            {showNewTimerForm ? (\n              <div>\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Client *\n                  </label>\n                  <select\n                    value={selectedClientId}\n                    onChange={(e) => setSelectedClientId(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    required\n                  >\n                    <option value=\"\">Sélectionner un client</option>\n                    {clients.map((client) => (\n                      <option key={client._id} value={client._id}>\n                        {client.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Tâche (optionnel)\n                  </label>\n                  <select\n                    value={selectedTaskId}\n                    onChange={(e) => setSelectedTaskId(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"\">Aucune tâche</option>\n                    {tasks\n                      .filter(task => !selectedClientId || task.clientId === selectedClientId)\n                      .map((task) => (\n                        <option key={task._id} value={task._id}>\n                          {task.title}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Description (optionnel)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"Que faites-vous ?\"\n                  />\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={billable}\n                      onChange={(e) => setBillable(e.target.checked)}\n                      className=\"h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    />\n                    <span className=\"ml-2 text-sm text-gray-700\">Facturable</span>\n                  </label>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <button\n                    onClick={() => setShowNewTimerForm(false)}\n                    className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\"\n                  >\n                    Annuler\n                  </button>\n                  <button\n                    onClick={handleStartTimer}\n                    className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                    disabled={!selectedClientId || loading}\n                  >\n                    {loading ? 'Patientez...' : 'Démarrer'}\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <button\n                onClick={() => setShowNewTimerForm(true)}\n                className=\"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n              >\n                Démarrer un chronomètre\n              </button>\n            )}\n          </>\n        )}\n      </div>\n    </motion.div>\n  );\n};\n\nexport default TimerPopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}