{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Steve\\\\Documents\\\\Dernier projet task manager\\\\task-manager-complete-main (1)\\\\task-manager-complete-main\\\\frontend\\\\src\\\\pages\\\\Gamification.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { useAppDispatch, useAppSelector } from '../hooks';\nimport { fetchGamificationProfileStart, fetchGamificationProfileSuccess, fetchGamificationProfileFailure, fetchBadgesStart, fetchBadgesSuccess, fetchActivitiesStart, fetchActivitiesSuccess, fetchActivitiesFailure, fetchLevelsStart, fetchLevelsSuccess } from '../store/slices/gamificationSlice';\nimport { gamificationService, badgesService } from '../services/api';\nimport { addNotification } from '../store/slices/uiSlice';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Gamification = () => {\n  _s();\n  var _getNextLevel;\n  const dispatch = useAppDispatch();\n  const {\n    level,\n    experience,\n    actionPoints,\n    totalPointsEarned,\n    currentStreak,\n    longestStreak,\n    badges,\n    activities,\n    levels,\n    loading,\n    error\n  } = useAppSelector(state => state.gamification);\n  const [activeTab, setActiveTab] = useState('overview');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n\n  // Fonction utilitaire pour gérer les dates potentiellement undefined\n  const safeDate = dateStr => {\n    if (!dateStr) return new Date();\n    try {\n      return new Date(dateStr);\n    } catch (error) {\n      return new Date();\n    }\n  };\n\n  // Définir loadActivities avec useCallback avant de l'utiliser dans useEffect\n  const loadActivities = useCallback(async page => {\n    try {\n      dispatch(fetchActivitiesStart());\n      const activitiesData = await gamificationService.getActivities(page, 10);\n      dispatch(fetchActivitiesSuccess(activitiesData.activities));\n      setTotalPages(activitiesData.pagination.pages);\n    } catch (error) {\n      dispatch(fetchActivitiesFailure(error.message));\n      dispatch(addNotification({\n        message: 'Erreur lors du chargement des activités',\n        type: 'error'\n      }));\n    }\n  }, [dispatch]);\n\n  // Charger les données de gamification au chargement de la page\n  useEffect(() => {\n    const loadGamificationData = async () => {\n      try {\n        // Charger le profil de gamification\n        dispatch(fetchGamificationProfileStart());\n        const profileData = await gamificationService.getProfile();\n        dispatch(fetchGamificationProfileSuccess(profileData));\n\n        // Charger les badges\n        dispatch(fetchBadgesStart());\n        const badgesData = await badgesService.getUserBadges();\n        dispatch(fetchBadgesSuccess(badgesData));\n\n        // Charger les niveaux\n        dispatch(fetchLevelsStart());\n        const levelsData = await gamificationService.getLevels();\n        dispatch(fetchLevelsSuccess(levelsData));\n\n        // Mettre à jour le streak\n        await gamificationService.updateStreak();\n\n        // Charger les activités (première page)\n        loadActivities(1);\n      } catch (error) {\n        dispatch(fetchGamificationProfileFailure(error.message));\n        dispatch(addNotification({\n          message: 'Erreur lors du chargement des données de gamification',\n          type: 'error'\n        }));\n      }\n    };\n    loadGamificationData();\n  }, [dispatch, loadActivities]); // Maintenant loadActivities est défini avant d'être utilisé ici\n\n  // Changer de page d'activités\n  const handlePageChange = page => {\n    setCurrentPage(page);\n    loadActivities(page);\n  };\n\n  // Formater la date - Version corrigée\n  const formatDate = dateStr => {\n    if (!dateStr) return 'N/A';\n    try {\n      // Utiliser la fonction safeDate pour éviter l'erreur TypeScript\n      const dateObj = safeDate(dateStr);\n      return dateObj.toLocaleDateString('fr-FR', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Date invalide';\n    }\n  };\n\n  // Obtenir le niveau suivant\n  const getNextLevel = () => {\n    if (!levels || levels.length === 0) return null;\n    return levels.find(l => l.level === level + 1);\n  };\n\n  // Calculer le pourcentage d'expérience pour le niveau suivant\n  const calculateExperiencePercentage = () => {\n    if (!levels || levels.length === 0) return 0;\n    const currentLevelData = levels.find(l => l.level === level);\n    const nextLevelData = levels.find(l => l.level === level + 1);\n    if (!currentLevelData || !nextLevelData) return 0;\n    const currentLevelXP = currentLevelData.experienceRequired;\n    const nextLevelXP = nextLevelData.experienceRequired;\n    const xpNeeded = nextLevelXP - currentLevelXP;\n    const xpProgress = experience - currentLevelXP;\n    return Math.min(100, Math.max(0, Math.floor(xpProgress / xpNeeded * 100)));\n  };\n\n  // Obtenir la couleur en fonction de la rareté du badge\n  const getBadgeRarityColor = rarity => {\n    switch (rarity) {\n      case 'commun':\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';\n      case 'rare':\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\n      case 'épique':\n        return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200';\n      case 'légendaire':\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\n      default:\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';\n    }\n  };\n\n  // Obtenir l'icône en fonction du type d'activité\n  const getActivityIcon = type => {\n    switch (type) {\n      case 'tâche_complétée':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center w-10 h-10 rounded-full bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M5 13l4 4L19 7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this);\n      case 'badge_obtenu':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center w-10 h-10 rounded-full bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this);\n      case 'niveau_augmenté':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center w-10 h-10 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this);\n      case 'points_action_gagnés':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center w-10 h-10 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this);\n      case 'experience_gagnée':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center w-10 h-10 rounded-full bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-300\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-6 h-6\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this);\n    }\n  };\n  if (loading && !badges.length && !activities.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 p-4 rounded-md\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n        children: \"Gamification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 dark:text-gray-300 mt-1\",\n        children: \"Suivez votre progression et vos r\\xE9compenses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.5\n        },\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center w-12 h-12 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300 mr-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n              children: \"Points d'action\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-300 text-sm\",\n              children: \"Utilisables pour des bonus\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold text-primary-600 dark:text-primary-400\",\n          children: actionPoints\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 dark:text-gray-400 mt-1\",\n          children: [\"Total gagn\\xE9: \", totalPointsEarned]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.5,\n          delay: 0.1\n        },\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center w-12 h-12 rounded-full bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300 mr-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n              children: \"Niveau\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-300 text-sm\",\n              children: \"Votre progression\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold text-secondary-600 dark:text-secondary-400\",\n          children: level\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between text-xs text-gray-600 dark:text-gray-300 mb-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Progression\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [calculateExperiencePercentage(), \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"h-full bg-secondary-500 rounded-full\",\n              style: {\n                width: `${calculateExperiencePercentage()}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n            children: getNextLevel() ? `Prochain niveau: ${(_getNextLevel = getNextLevel()) === null || _getNextLevel === void 0 ? void 0 : _getNextLevel.name}` : 'Niveau maximum atteint'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 20\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        transition: {\n          duration: 0.5,\n          delay: 0.2\n        },\n        className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center w-12 h-12 rounded-full bg-success-100 text-success-600 dark:bg-success-900 dark:text-success-300 mr-4\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n              children: \"Streak\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-300 text-sm\",\n              children: \"Jours cons\\xE9cutifs d'activit\\xE9\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-3xl font-bold text-success-600 dark:text-success-400\",\n          children: [currentStreak, \" jours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500 dark:text-gray-400 mt-1\",\n          children: [\"Record: \", longestStreak, \" jours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex border-b border-gray-200 dark:border-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-6 py-3 text-sm font-medium ${activeTab === 'overview' ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}`,\n          onClick: () => setActiveTab('overview'),\n          children: \"Vue d'ensemble\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-6 py-3 text-sm font-medium ${activeTab === 'badges' ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}`,\n          onClick: () => setActiveTab('badges'),\n          children: \"Badges\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `px-6 py-3 text-sm font-medium ${activeTab === 'activities' ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}`,\n          onClick: () => setActiveTab('activities'),\n          children: \"Activit\\xE9s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [activeTab === 'overview' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 dark:text-white mb-4\",\n            children: \"Votre progression\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4\",\n              children: \"Niveaux et r\\xE9compenses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-6\",\n              children: levels.map(levelData => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 rounded-lg border ${levelData.level === level ? 'border-secondary-500 bg-secondary-50 dark:bg-secondary-900/20' : levelData.level < level ? 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50' : 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 opacity-60'}`,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: `flex items-center justify-center w-10 h-10 rounded-full ${levelData.level <= level ? 'bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300' : 'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400'} mr-3`,\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-lg font-bold\",\n                        children: levelData.level\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 378,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 374,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"font-semibold text-gray-900 dark:text-white\",\n                        children: levelData.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 381,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-sm text-gray-600 dark:text-gray-300\",\n                        children: levelData.level <= level ? 'Débloqué' : `Requis: ${levelData.experienceRequired} XP`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 382,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 25\n                  }, this), levelData.level === level && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"px-3 py-1 text-xs rounded-full bg-secondary-100 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-200\",\n                    children: \"Niveau actuel\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 23\n                }, this)\n              }, levelData.level, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), badges.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-800 dark:text-gray-200\",\n                children: \"Badges r\\xE9cents\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setActiveTab('badges'),\n                className: \"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300\",\n                children: \"Voir tous les badges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\",\n              children: badges.slice(0, 4).map(badge => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: badge.icon,\n                  alt: badge.name,\n                  className: \"w-16 h-16 mx-auto mb-2 object-contain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                  className: \"font-medium text-gray-900 dark:text-white text-sm\",\n                  children: badge.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `inline-block px-2 py-1 text-xs rounded-full mt-2 ${getBadgeRarityColor(badge.rarity)}`,\n                  children: badge.rarity.charAt(0).toUpperCase() + badge.rarity.slice(1)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 25\n                }, this)]\n              }, badge._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 13\n        }, this), activeTab === 'badges' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 dark:text-white mb-4\",\n            children: [\"Vos badges (\", badges.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 15\n          }, this), badges.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-16 h-16 text-gray-400 mx-auto mb-4\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 dark:text-white mb-2\",\n              children: \"Aucun badge pour le moment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-300 mb-4\",\n              children: \"Compl\\xE9tez des t\\xE2ches et relevez des d\\xE9fis pour gagner des badges !\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6\",\n            children: badges.map(badge => /*#__PURE__*/_jsxDEV(motion.div, {\n              whileHover: {\n                y: -5,\n                transition: {\n                  duration: 0.2\n                }\n              },\n              className: \"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: badge.icon,\n                alt: badge.name,\n                className: \"w-20 h-20 mx-auto mb-3 object-contain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 456,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-gray-900 dark:text-white\",\n                children: badge.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 461,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col space-y-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 py-1 text-xs rounded-full ${getBadgeRarityColor(badge.rarity)}`,\n                  children: badge.rarity.charAt(0).toUpperCase() + badge.rarity.slice(1)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-500 dark:text-gray-400\",\n                  children: [\"Obtenu le \", formatDate(badge.date || badge.earnedAt || badge.createdAt)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 23\n              }, this)]\n            }, badge._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this), activeTab === 'activities' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900 dark:text-white mb-4\",\n            children: \"Historique d'activit\\xE9s\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 15\n          }, this), activities.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-16 h-16 text-gray-400 mx-auto mb-4\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900 dark:text-white mb-2\",\n              children: \"Aucune activit\\xE9 r\\xE9cente\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 dark:text-gray-300 mb-4\",\n              children: \"Vos activit\\xE9s r\\xE9centes appara\\xEEtront ici.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-4\",\n            children: activities.map(activity => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 flex\",\n              children: [getActivityIcon(activity.type), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-4 flex-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    className: \"font-medium text-gray-900 dark:text-white\",\n                    children: activity.name || activity.title || \"Activité\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 503,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                    children: formatDate(activity.date || activity.createdAt)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 506,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-gray-600 dark:text-gray-300 mt-1\",\n                  children: activity.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 25\n                }, this), (activity.reward > 0 || activity.points > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-sm font-medium text-primary-600 dark:text-primary-400\",\n                  children: [\"+\", activity.reward || activity.points, \" points\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 23\n              }, this)]\n            }, activity._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 17\n          }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center mt-6\",\n            children: /*#__PURE__*/_jsxDEV(\"nav\", {\n              className: \"flex items-center space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePageChange(Math.max(1, currentPage - 1)),\n                disabled: currentPage === 1,\n                className: `px-3 py-1 rounded-md ${currentPage === 1 ? 'text-gray-400 cursor-not-allowed' : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'}`,\n                children: \"Pr\\xE9c\\xE9dent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 528,\n                columnNumber: 21\n              }, this), Array.from({\n                length: totalPages\n              }, (_, i) => i + 1).map(page => /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePageChange(page),\n                className: `px-3 py-1 rounded-md ${currentPage === page ? 'bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300' : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'}`,\n                children: page\n              }, page, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 23\n              }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePageChange(Math.min(totalPages, currentPage + 1)),\n                disabled: currentPage === totalPages,\n                className: `px-3 py-1 rounded-md ${currentPage === totalPages ? 'text-gray-400 cursor-not-allowed' : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'}`,\n                children: \"Suivant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 552,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 234,\n    columnNumber: 5\n  }, this);\n};\n_s(Gamification, \"tPh8TFjWvt636yLTgG9ZpKM8jog=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n_c = Gamification;\nexport default Gamification;\nvar _c;\n$RefreshReg$(_c, \"Gamification\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useAppDispatch","useAppSelector","fetchGamificationProfileStart","fetchGamificationProfileSuccess","fetchGamificationProfileFailure","fetchBadgesStart","fetchBadgesSuccess","fetchActivitiesStart","fetchActivitiesSuccess","fetchActivitiesFailure","fetchLevelsStart","fetchLevelsSuccess","gamificationService","badgesService","addNotification","motion","jsxDEV","_jsxDEV","Gamification","_s","_getNextLevel","dispatch","level","experience","actionPoints","totalPointsEarned","currentStreak","longestStreak","badges","activities","levels","loading","error","state","gamification","activeTab","setActiveTab","currentPage","setCurrentPage","totalPages","setTotalPages","safeDate","dateStr","Date","loadActivities","page","activitiesData","getActivities","pagination","pages","message","type","loadGamificationData","profileData","getProfile","badgesData","getUserBadges","levelsData","getLevels","updateStreak","handlePageChange","formatDate","dateObj","toLocaleDateString","year","month","day","getNextLevel","length","find","l","calculateExperiencePercentage","currentLevelData","nextLevelData","currentLevelXP","experienceRequired","nextLevelXP","xpNeeded","xpProgress","Math","min","max","floor","getBadgeRarityColor","rarity","getActivityIcon","className","children","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","div","initial","opacity","y","animate","transition","duration","delay","style","width","name","onClick","map","levelData","slice","badge","src","icon","alt","charAt","toUpperCase","_id","whileHover","date","earnedAt","createdAt","activity","title","description","reward","points","disabled","Array","from","_","i","_c","$RefreshReg$"],"sources":["C:/Users/Steve/Documents/Dernier projet task manager/task-manager-complete-main (1)/task-manager-complete-main/frontend/src/pages/Gamification.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useAppDispatch, useAppSelector } from '../hooks';\r\nimport {\r\n  fetchGamificationProfileStart,\r\n  fetchGamificationProfileSuccess,\r\n  fetchGamificationProfileFailure,\r\n  fetchBadgesStart,\r\n  fetchBadgesSuccess,\r\n  fetchActivitiesStart,\r\n  fetchActivitiesSuccess,\r\n  fetchActivitiesFailure,\r\n  fetchLevelsStart,\r\n  fetchLevelsSuccess,\r\n} from '../store/slices/gamificationSlice';\r\nimport { gamificationService, badgesService } from '../services/api';\r\nimport { addNotification } from '../store/slices/uiSlice';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst Gamification: React.FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const {\r\n    level,\r\n    experience,\r\n    actionPoints,\r\n    totalPointsEarned,\r\n    currentStreak,\r\n    longestStreak,\r\n    badges,\r\n    activities,\r\n    levels,\r\n    loading,\r\n    error\r\n  } = useAppSelector(state => state.gamification);\r\n\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n\r\n  // Fonction utilitaire pour gérer les dates potentiellement undefined\r\n  const safeDate = (dateStr: any): Date => {\r\n    if (!dateStr) return new Date();\r\n    try {\r\n      return new Date(dateStr);\r\n    } catch (error) {\r\n      return new Date();\r\n    }\r\n  };\r\n\r\n  // Définir loadActivities avec useCallback avant de l'utiliser dans useEffect\r\n  const loadActivities = useCallback(async (page: number) => {\r\n    try {\r\n      dispatch(fetchActivitiesStart());\r\n      const activitiesData = await gamificationService.getActivities(page, 10);\r\n      dispatch(fetchActivitiesSuccess(activitiesData.activities));\r\n      setTotalPages(activitiesData.pagination.pages);\r\n    } catch (error: any) {\r\n      dispatch(fetchActivitiesFailure(error.message));\r\n      dispatch(addNotification({\r\n        message: 'Erreur lors du chargement des activités',\r\n        type: 'error'\r\n      }));\r\n    }\r\n  }, [dispatch]);\r\n\r\n  // Charger les données de gamification au chargement de la page\r\n  useEffect(() => {\r\n    const loadGamificationData = async () => {\r\n      try {\r\n        // Charger le profil de gamification\r\n        dispatch(fetchGamificationProfileStart());\r\n        const profileData = await gamificationService.getProfile();\r\n        dispatch(fetchGamificationProfileSuccess(profileData));\r\n\r\n        // Charger les badges\r\n        dispatch(fetchBadgesStart());\r\n        const badgesData = await badgesService.getUserBadges();\r\n        dispatch(fetchBadgesSuccess(badgesData));\r\n\r\n        // Charger les niveaux\r\n        dispatch(fetchLevelsStart());\r\n        const levelsData = await gamificationService.getLevels();\r\n        dispatch(fetchLevelsSuccess(levelsData));\r\n\r\n        // Mettre à jour le streak\r\n        await gamificationService.updateStreak();\r\n\r\n        // Charger les activités (première page)\r\n        loadActivities(1);\r\n      } catch (error: any) {\r\n        dispatch(fetchGamificationProfileFailure(error.message));\r\n        dispatch(addNotification({\r\n          message: 'Erreur lors du chargement des données de gamification',\r\n          type: 'error'\r\n        }));\r\n      }\r\n    };\r\n\r\n    loadGamificationData();\r\n  }, [dispatch, loadActivities]); // Maintenant loadActivities est défini avant d'être utilisé ici\r\n\r\n  // Changer de page d'activités\r\n  const handlePageChange = (page: number) => {\r\n    setCurrentPage(page);\r\n    loadActivities(page);\r\n  };\r\n\r\n  // Formater la date - Version corrigée\r\n  const formatDate = (dateStr: any): string => {\r\n    if (!dateStr) return 'N/A';\r\n\r\n    try {\r\n      // Utiliser la fonction safeDate pour éviter l'erreur TypeScript\r\n      const dateObj = safeDate(dateStr);\r\n      return dateObj.toLocaleDateString('fr-FR', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      });\r\n    } catch (error) {\r\n      return 'Date invalide';\r\n    }\r\n  };\r\n\r\n  // Obtenir le niveau suivant\r\n  const getNextLevel = () => {\r\n    if (!levels || levels.length === 0) return null;\r\n    return levels.find(l => l.level === level + 1);\r\n  };\r\n\r\n  // Calculer le pourcentage d'expérience pour le niveau suivant\r\n  const calculateExperiencePercentage = () => {\r\n    if (!levels || levels.length === 0) return 0;\r\n\r\n    const currentLevelData = levels.find(l => l.level === level);\r\n    const nextLevelData = levels.find(l => l.level === level + 1);\r\n\r\n    if (!currentLevelData || !nextLevelData) return 0;\r\n\r\n    const currentLevelXP = currentLevelData.experienceRequired;\r\n    const nextLevelXP = nextLevelData.experienceRequired;\r\n    const xpNeeded = nextLevelXP - currentLevelXP;\r\n    const xpProgress = experience - currentLevelXP;\r\n\r\n    return Math.min(100, Math.max(0, Math.floor((xpProgress / xpNeeded) * 100)));\r\n  };\r\n\r\n  // Obtenir la couleur en fonction de la rareté du badge\r\n  const getBadgeRarityColor = (rarity: string) => {\r\n    switch (rarity) {\r\n      case 'commun':\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';\r\n      case 'rare':\r\n        return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200';\r\n      case 'épique':\r\n        return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200';\r\n      case 'légendaire':\r\n        return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200';\r\n    }\r\n  };\r\n\r\n  // Obtenir l'icône en fonction du type d'activité\r\n  const getActivityIcon = (type: string) => {\r\n    switch (type) {\r\n      case 'tâche_complétée':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'badge_obtenu':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-purple-100 text-purple-600 dark:bg-purple-900 dark:text-purple-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'niveau_augmenté':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-blue-100 text-blue-600 dark:bg-blue-900 dark:text-blue-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'points_action_gagnés':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      case 'experience_gagnée':\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-yellow-100 text-yellow-600 dark:bg-yellow-900 dark:text-yellow-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n      default:\r\n        return (\r\n          <div className=\"flex items-center justify-center w-10 h-10 rounded-full bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-300\">\r\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  if (loading && !badges.length && !activities.length) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-200 p-4 rounded-md\">\r\n        {error}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto\">\r\n      <div className=\"mb-6\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">Gamification</h1>\r\n        <p className=\"text-gray-600 dark:text-gray-300 mt-1\">Suivez votre progression et vos récompenses</p>\r\n      </div>\r\n\r\n      {/* Vue d'ensemble */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\"\r\n        >\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900 dark:text-primary-300 mr-4\">\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Points d'action</h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm\">Utilisables pour des bonus</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-primary-600 dark:text-primary-400\">{actionPoints}</div>\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Total gagné: {totalPointsEarned}</div>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.1 }}\r\n          className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\"\r\n        >\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300 mr-4\">\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Niveau</h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm\">Votre progression</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-secondary-600 dark:text-secondary-400\">{level}</div>\r\n          <div className=\"mt-2\">\r\n            <div className=\"flex justify-between text-xs text-gray-600 dark:text-gray-300 mb-1\">\r\n              <span>Progression</span>\r\n              <span>{calculateExperiencePercentage()}%</span>\r\n            </div>\r\n            <div className=\"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full\">\r\n              <div\r\n                className=\"h-full bg-secondary-500 rounded-full\"\r\n                style={{ width: `${calculateExperiencePercentage()}%` }}\r\n              ></div>\r\n            </div>\r\n            <div className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n              {getNextLevel() ? `Prochain niveau: ${getNextLevel()?.name}` : 'Niveau maximum atteint'}\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.2 }}\r\n          className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6\"\r\n        >\r\n          <div className=\"flex items-center mb-4\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-success-100 text-success-600 dark:bg-success-900 dark:text-success-300 mr-4\">\r\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Streak</h2>\r\n              <p className=\"text-gray-600 dark:text-gray-300 text-sm\">Jours consécutifs d'activité</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-3xl font-bold text-success-600 dark:text-success-400\">{currentStreak} jours</div>\r\n          <div className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">Record: {longestStreak} jours</div>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* Onglets */}\r\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden mb-8\">\r\n        <div className=\"flex border-b border-gray-200 dark:border-gray-700\">\r\n          <button\r\n            className={`px-6 py-3 text-sm font-medium ${activeTab === 'overview'\r\n                ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500'\r\n                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n            onClick={() => setActiveTab('overview')}\r\n          >\r\n            Vue d'ensemble\r\n          </button>\r\n          <button\r\n            className={`px-6 py-3 text-sm font-medium ${activeTab === 'badges'\r\n                ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500'\r\n                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n            onClick={() => setActiveTab('badges')}\r\n          >\r\n            Badges\r\n          </button>\r\n          <button\r\n            className={`px-6 py-3 text-sm font-medium ${activeTab === 'activities'\r\n                ? 'text-primary-600 dark:text-primary-400 border-b-2 border-primary-500'\r\n                : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'\r\n              }`}\r\n            onClick={() => setActiveTab('activities')}\r\n          >\r\n            Activités\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"p-6\">\r\n          {/* Vue d'ensemble */}\r\n          {activeTab === 'overview' && (\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">Votre progression</h2>\r\n\r\n              {/* Niveaux */}\r\n              <div className=\"mb-8\">\r\n                <h3 className=\"text-lg font-medium text-gray-800 dark:text-gray-200 mb-4\">Niveaux et récompenses</h3>\r\n                <div className=\"space-y-6\">\r\n                  {levels.map((levelData) => (\r\n                    <div\r\n                      key={levelData.level}\r\n                      className={`p-4 rounded-lg border ${levelData.level === level\r\n                          ? 'border-secondary-500 bg-secondary-50 dark:bg-secondary-900/20'\r\n                          : levelData.level < level\r\n                            ? 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50'\r\n                            : 'border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 opacity-60'\r\n                        }`}\r\n                    >\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className={`flex items-center justify-center w-10 h-10 rounded-full ${levelData.level <= level\r\n                              ? 'bg-secondary-100 text-secondary-600 dark:bg-secondary-900 dark:text-secondary-300'\r\n                              : 'bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400'\r\n                            } mr-3`}>\r\n                            <span className=\"text-lg font-bold\">{levelData.level}</span>\r\n                          </div>\r\n                          <div>\r\n                            <h4 className=\"font-semibold text-gray-900 dark:text-white\">{levelData.name}</h4>\r\n                            <p className=\"text-sm text-gray-600 dark:text-gray-300\">\r\n                              {levelData.level <= level ? 'Débloqué' : `Requis: ${levelData.experienceRequired} XP`}\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        {levelData.level === level && (\r\n                          <span className=\"px-3 py-1 text-xs rounded-full bg-secondary-100 text-secondary-800 dark:bg-secondary-900 dark:text-secondary-200\">\r\n                            Niveau actuel\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Badges récents */}\r\n              {badges.length > 0 && (\r\n                <div>\r\n                  <div className=\"flex justify-between items-center mb-4\">\r\n                    <h3 className=\"text-lg font-medium text-gray-800 dark:text-gray-200\">Badges récents</h3>\r\n                    <button\r\n                      onClick={() => setActiveTab('badges')}\r\n                      className=\"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300\"\r\n                    >\r\n                      Voir tous les badges\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\r\n                    {badges.slice(0, 4).map((badge) => (\r\n                      <div key={badge._id} className=\"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 text-center\">\r\n                        <img\r\n                          src={badge.icon}\r\n                          alt={badge.name}\r\n                          className=\"w-16 h-16 mx-auto mb-2 object-contain\"\r\n                        />\r\n                        <h4 className=\"font-medium text-gray-900 dark:text-white text-sm\">{badge.name}</h4>\r\n                        <span className={`inline-block px-2 py-1 text-xs rounded-full mt-2 ${getBadgeRarityColor(badge.rarity)}`}>\r\n                          {badge.rarity.charAt(0).toUpperCase() + badge.rarity.slice(1)}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Badges */}\r\n          {activeTab === 'badges' && (\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\r\n                Vos badges ({badges.length})\r\n              </h2>\r\n\r\n              {badges.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                  </svg>\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Aucun badge pour le moment</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n                    Complétez des tâches et relevez des défis pour gagner des badges !\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6\">\r\n                  {badges.map((badge) => (\r\n                    <motion.div\r\n                      key={badge._id}\r\n                      whileHover={{ y: -5, transition: { duration: 0.2 } }}\r\n                      className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4 text-center\"\r\n                    >\r\n                      <img\r\n                        src={badge.icon}\r\n                        alt={badge.name}\r\n                        className=\"w-20 h-20 mx-auto mb-3 object-contain\"\r\n                      />\r\n                      <h3 className=\"font-semibold text-gray-900 dark:text-white\">{badge.name}</h3>\r\n                      <div className=\"flex flex-col space-y-2\">\r\n                        <span className={`px-2 py-1 text-xs rounded-full ${getBadgeRarityColor(badge.rarity)}`}>\r\n                          {badge.rarity.charAt(0).toUpperCase() + badge.rarity.slice(1)}\r\n                        </span>\r\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                          {/* Utiliser formatDate avec une assertion de type pour éviter l'erreur */}\r\n                          Obtenu le {formatDate((badge as any).date || (badge as any).earnedAt || (badge as any).createdAt)}\r\n                        </span>\r\n                      </div>\r\n                    </motion.div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {/* Activités */}\r\n          {activeTab === 'activities' && (\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white mb-4\">\r\n                Historique d'activités\r\n              </h2>\r\n\r\n              {activities.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <svg className=\"w-16 h-16 text-gray-400 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                  </svg>\r\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-2\">Aucune activité récente</h3>\r\n                  <p className=\"text-gray-600 dark:text-gray-300 mb-4\">\r\n                    Vos activités récentes apparaîtront ici.\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {activities.map((activity) => (\r\n                    <div key={activity._id} className=\"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 flex\">\r\n                      {getActivityIcon(activity.type)}\r\n                      <div className=\"ml-4 flex-1\">\r\n                        <div className=\"flex justify-between\">\r\n                          {/* Utiliser une assertion de type pour éviter l'erreur */}\r\n                          <h3 className=\"font-medium text-gray-900 dark:text-white\">\r\n                            {(activity as any).name || (activity as any).title || \"Activité\"}\r\n                          </h3>\r\n                          <span className=\"text-xs text-gray-500 dark:text-gray-400\">\r\n                            {/* Utiliser formatDate avec une assertion de type pour éviter l'erreur */}\r\n                            {formatDate((activity as any).date || (activity as any).createdAt)}\r\n                          </span>\r\n                        </div>\r\n                        <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-1\">{activity.description}</p>\r\n                        {/* Utiliser une assertion de type pour éviter l'erreur */}\r\n                        {((activity as any).reward > 0 || (activity as any).points > 0) && (\r\n                          <div className=\"mt-2 text-sm font-medium text-primary-600 dark:text-primary-400\">\r\n                            +{(activity as any).reward || (activity as any).points} points\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n\r\n              {/* Pagination */}\r\n              {totalPages > 1 && (\r\n                <div className=\"flex justify-center mt-6\">\r\n                  <nav className=\"flex items-center space-x-2\">\r\n                    <button\r\n                      onClick={() => handlePageChange(Math.max(1, currentPage - 1))}\r\n                      disabled={currentPage === 1}\r\n                      className={`px-3 py-1 rounded-md ${currentPage === 1\r\n                          ? 'text-gray-400 cursor-not-allowed'\r\n                          : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'\r\n                        }`}\r\n                    >\r\n                      Précédent\r\n                    </button>\r\n\r\n                    {Array.from({ length: totalPages }, (_, i) => i + 1).map((page) => (\r\n                      <button\r\n                        key={page}\r\n                        onClick={() => handlePageChange(page)}\r\n                        className={`px-3 py-1 rounded-md ${currentPage === page\r\n                            ? 'bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300'\r\n                            : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'\r\n                          }`}\r\n                      >\r\n                        {page}\r\n                      </button>\r\n                    ))}\r\n\r\n                    <button\r\n                      onClick={() => handlePageChange(Math.min(totalPages, currentPage + 1))}\r\n                      disabled={currentPage === totalPages}\r\n                      className={`px-3 py-1 rounded-md ${currentPage === totalPages\r\n                          ? 'text-gray-400 cursor-not-allowed'\r\n                          : 'text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700'\r\n                        }`}\r\n                    >\r\n                      Suivant\r\n                    </button>\r\n                  </nav>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Gamification;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}