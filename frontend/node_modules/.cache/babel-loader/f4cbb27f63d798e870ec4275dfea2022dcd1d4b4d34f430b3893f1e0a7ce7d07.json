{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useDispatch,useSelector}from'react-redux';import{motion,useDragControls}from'framer-motion';import{fetchRunningTimer,startTimer,pauseTimer,resumeTimer,stopTimer,hideTimerPopup,setTimerPopupSize,setTimerPopupPosition,updateRunningTimerDuration}from'../../store/slices/timerSlice';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TimerPopup=()=>{var _runningTimer$clientI,_runningTimer$taskId,_getClientProfitabili,_getClientProfitabili2;const dispatch=useDispatch();const{runningTimer,loading,error,timerPopupVisible,timerPopupSize,timerPopupPosition}=useSelector(state=>state.timer);const{clientsProfitability}=useSelector(state=>state.profitability);const{clients}=useSelector(state=>state.clients);const{tasks}=useSelector(state=>state.tasks);const[selectedClientId,setSelectedClientId]=useState('');const[selectedTaskId,setSelectedTaskId]=useState('');const[description,setDescription]=useState('');const[billable,setBillable]=useState(true);const[elapsedTime,setElapsedTime]=useState(0);const[showNewTimerForm,setShowNewTimerForm]=useState(false);const timerIntervalRef=useRef(null);const dragControls=useDragControls();// Récupérer le chronomètre en cours au chargement\nuseEffect(()=>{dispatch(fetchRunningTimer());},[dispatch]);// Mettre à jour le temps écoulé toutes les secondes\nuseEffect(()=>{if(runningTimer&&runningTimer.isRunning){timerIntervalRef.current=setInterval(()=>{dispatch(updateRunningTimerDuration());// Calculer le temps écoulé\nconst startTime=new Date(runningTimer.startTime).getTime();const now=Date.now();let totalDuration=Math.floor((now-startTime)/1000);// Soustraire le temps total de pause\ntotalDuration-=runningTimer.totalPausedTime||0;setElapsedTime(totalDuration);},1000);}else if(runningTimer&&!runningTimer.isRunning){// Pour un chronomètre en pause, afficher le temps actuel\nsetElapsedTime(runningTimer.getCurrentDuration||0);}else{setElapsedTime(0);}return()=>{if(timerIntervalRef.current){clearInterval(timerIntervalRef.current);}};},[runningTimer,dispatch]);// Formater le temps écoulé en HH:MM:SS\nconst formatTime=seconds=>{const hours=Math.floor(seconds/3600);const minutes=Math.floor(seconds%3600/60);const secs=seconds%60;return`${hours.toString().padStart(2,'0')}:${minutes.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;};// Démarrer un nouveau chronomètre\nconst handleStartTimer=()=>{if(!selectedClientId)return;dispatch(startTimer({clientId:selectedClientId,taskId:selectedTaskId||undefined,description,billable}));setShowNewTimerForm(false);};// Mettre en pause le chronomètre en cours\nconst handlePauseTimer=()=>{if(runningTimer&&runningTimer.isRunning){dispatch(pauseTimer(runningTimer._id));}};// Reprendre le chronomètre en pause\nconst handleResumeTimer=()=>{if(runningTimer&&!runningTimer.isRunning){dispatch(resumeTimer(runningTimer._id));}};// Arrêter le chronomètre en cours\nconst handleStopTimer=()=>{if(runningTimer){dispatch(stopTimer(runningTimer._id));}};// Fermer la popup\nconst handleClosePopup=()=>{dispatch(hideTimerPopup());};// Changer la taille de la popup\nconst handleChangeSize=size=>{dispatch(setTimerPopupSize(size));};// Gérer le début du drag\nconst handleDragStart=event=>{dragControls.start(event);};// Gérer la fin du drag\nconst handleDragEnd=info=>{dispatch(setTimerPopupPosition({x:timerPopupPosition.x+info.offset.x,y:timerPopupPosition.y+info.offset.y}));};// Récupérer les informations de rentabilité du client sélectionné\nconst getClientProfitability=()=>{if(!runningTimer||!runningTimer.clientId)return null;const clientId=typeof runningTimer.clientId==='string'?runningTimer.clientId:runningTimer.clientId._id;return clientsProfitability.find(p=>p.clientId._id===clientId);};// Calculer le temps restant pour la rentabilité\nconst getRemainingTimeForProfitability=()=>{const profitability=getClientProfitability();if(!profitability||profitability.remainingHours<=0)return null;// Convertir les heures en secondes\nconst remainingSeconds=Math.ceil(profitability.remainingHours*3600);// Soustraire le temps actuel du chronomètre si facturable\nif(runningTimer&&runningTimer.billable){return Math.max(0,remainingSeconds-elapsedTime);}return remainingSeconds;};// Si la popup n'est pas visible, ne rien afficher\nif(!timerPopupVisible){return null;}return/*#__PURE__*/_jsxs(motion.div,{drag:true,dragControls:dragControls,onDragEnd:handleDragEnd,dragMomentum:false,initial:{x:timerPopupPosition.x,y:timerPopupPosition.y},animate:{x:timerPopupPosition.x,y:timerPopupPosition.y},className:`fixed z-50 bg-white rounded-lg shadow-lg overflow-hidden ${timerPopupSize==='compact'?'w-64':timerPopupSize==='standard'?'w-80':'w-96'}`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-600 text-white px-4 py-2 flex justify-between items-center cursor-move\",onPointerDown:handleDragStart,children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:runningTimer?'Chronomètre en cours':'Nouveau chronomètre'}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleChangeSize('compact'),className:`w-3 h-3 rounded-full ${timerPopupSize==='compact'?'bg-white':'bg-blue-300'}`,title:\"Compact\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleChangeSize('standard'),className:`w-3 h-3 rounded-full ${timerPopupSize==='standard'?'bg-white':'bg-blue-300'}`,title:\"Standard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleChangeSize('expanded'),className:`w-3 h-3 rounded-full ${timerPopupSize==='expanded'?'bg-white':'bg-blue-300'}`,title:\"\\xC9tendu\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClosePopup,className:\"ml-2 text-white hover:text-red-200\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm\",children:typeof error==='string'?error:'Une erreur est survenue'}),runningTimer?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-mono text-center font-bold\",children:formatTime(elapsedTime)})}),timerPopupSize!=='compact'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Client:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:((_runningTimer$clientI=runningTimer.clientId)===null||_runningTimer$clientI===void 0?void 0:_runningTimer$clientI.name)||'Client inconnu'}),runningTimer.taskId&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mt-2 mb-1\",children:\"T\\xE2che:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:((_runningTimer$taskId=runningTimer.taskId)===null||_runningTimer$taskId===void 0?void 0:_runningTimer$taskId.title)||'Tâche inconnue'})]}),runningTimer.description&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mt-2 mb-1\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:runningTimer.description})]})]}),timerPopupSize==='expanded'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-1\",children:\"Statut de facturation:\"}),/*#__PURE__*/_jsx(\"div\",{className:`font-medium ${runningTimer.billable?'text-green-600':'text-gray-600'}`,children:runningTimer.billable?'Facturable':'Non facturable'}),runningTimer.billable&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mt-2 mb-1\",children:\"Rentabilit\\xE9:\"}),getClientProfitability()?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:`font-medium ${(_getClientProfitabili=getClientProfitability())!==null&&_getClientProfitabili!==void 0&&_getClientProfitabili.isProfitable?'text-green-600':'text-red-600'}`,children:(_getClientProfitabili2=getClientProfitability())!==null&&_getClientProfitabili2!==void 0&&_getClientProfitabili2.isProfitable?'Client rentable':'Client non rentable'}),getRemainingTimeForProfitability()!==null&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mt-2 mb-1\",children:\"Temps restant pour rentabilit\\xE9:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-red-600\",children:formatTime(getRemainingTimeForProfitability()||0)})]})]}):/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600\",children:\"Donn\\xE9es de rentabilit\\xE9 non disponibles\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[runningTimer.isRunning?/*#__PURE__*/_jsx(\"button\",{onClick:handlePauseTimer,className:\"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 flex-1 mr-2\",disabled:loading,children:loading?'Patientez...':'Pause'}):/*#__PURE__*/_jsx(\"button\",{onClick:handleResumeTimer,className:\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex-1 mr-2\",disabled:loading,children:loading?'Patientez...':'Reprendre'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStopTimer,className:\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex-1\",disabled:loading,children:loading?'Patientez...':'Arrêter'})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:showNewTimerForm?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Client *\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedClientId,onChange:e=>setSelectedClientId(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"S\\xE9lectionner un client\"}),clients.map(client=>/*#__PURE__*/_jsx(\"option\",{value:client._id,children:client.name},client._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"T\\xE2che (optionnel)\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedTaskId,onChange:e=>setSelectedTaskId(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Aucune t\\xE2che\"}),tasks.filter(task=>!selectedClientId||task.clientId===selectedClientId).map(task=>/*#__PURE__*/_jsx(\"option\",{value:task._id,children:task.title},task._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description (optionnel)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:e=>setDescription(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md\",placeholder:\"Que faites-vous ?\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:billable,onChange:e=>setBillable(e.target.checked),className:\"h-4 w-4 text-blue-600 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-sm text-gray-700\",children:\"Facturable\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewTimerForm(false),className:\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\",children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleStartTimer,className:\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",disabled:!selectedClientId||loading,children:loading?'Patientez...':'Démarrer'})]})]}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowNewTimerForm(true),className:\"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\",children:\"D\\xE9marrer un chronom\\xE8tre\"})})]})]});};export default TimerPopup;","map":{"version":3,"names":["React","useState","useEffect","useRef","useDispatch","useSelector","motion","useDragControls","fetchRunningTimer","startTimer","pauseTimer","resumeTimer","stopTimer","hideTimerPopup","setTimerPopupSize","setTimerPopupPosition","updateRunningTimerDuration","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TimerPopup","_runningTimer$clientI","_runningTimer$taskId","_getClientProfitabili","_getClientProfitabili2","dispatch","runningTimer","loading","error","timerPopupVisible","timerPopupSize","timerPopupPosition","state","timer","clientsProfitability","profitability","clients","tasks","selectedClientId","setSelectedClientId","selectedTaskId","setSelectedTaskId","description","setDescription","billable","setBillable","elapsedTime","setElapsedTime","showNewTimerForm","setShowNewTimerForm","timerIntervalRef","dragControls","isRunning","current","setInterval","startTime","Date","getTime","now","totalDuration","Math","floor","totalPausedTime","getCurrentDuration","clearInterval","formatTime","seconds","hours","minutes","secs","toString","padStart","handleStartTimer","clientId","taskId","undefined","handlePauseTimer","_id","handleResumeTimer","handleStopTimer","handleClosePopup","handleChangeSize","size","handleDragStart","event","start","handleDragEnd","info","x","offset","y","getClientProfitability","find","p","getRemainingTimeForProfitability","remainingHours","remainingSeconds","ceil","max","div","drag","onDragEnd","dragMomentum","initial","animate","className","children","onPointerDown","onClick","title","xmlns","viewBox","fill","fillRule","d","clipRule","name","isProfitable","disabled","value","onChange","e","target","required","map","client","filter","task","type","placeholder","checked"],"sources":["C:/Users/Steve/Documents/Dernier projet task manager/task-manager-complete-main (1)/task-manager-complete-main/frontend/src/components/timer/TimerPopup.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { motion, useDragControls } from 'framer-motion';\nimport { \n  fetchRunningTimer, \n  startTimer, \n  pauseTimer, \n  resumeTimer, \n  stopTimer,\n  hideTimerPopup,\n  setTimerPopupSize,\n  setTimerPopupPosition,\n  updateRunningTimerDuration\n} from '../../store/slices/timerSlice';\nimport { RootState, AppDispatch } from '../../store';\n\nconst TimerPopup: React.FC = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { \n    runningTimer, \n    loading, \n    error, \n    timerPopupVisible, \n    timerPopupSize, \n    timerPopupPosition \n  } = useSelector((state: RootState) => state.timer);\n  \n  const { clientsProfitability } = useSelector((state: RootState) => state.profitability);\n  const { clients } = useSelector((state: RootState) => state.clients);\n  const { tasks } = useSelector((state: RootState) => state.tasks);\n  \n  const [selectedClientId, setSelectedClientId] = useState<string>('');\n  const [selectedTaskId, setSelectedTaskId] = useState<string>('');\n  const [description, setDescription] = useState<string>('');\n  const [billable, setBillable] = useState<boolean>(true);\n  const [elapsedTime, setElapsedTime] = useState<number>(0);\n  const [showNewTimerForm, setShowNewTimerForm] = useState<boolean>(false);\n  \n  const timerIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const dragControls = useDragControls();\n  \n  // Récupérer le chronomètre en cours au chargement\n  useEffect(() => {\n    dispatch(fetchRunningTimer());\n  }, [dispatch]);\n  \n  // Mettre à jour le temps écoulé toutes les secondes\n  useEffect(() => {\n    if (runningTimer && runningTimer.isRunning) {\n      timerIntervalRef.current = setInterval(() => {\n        dispatch(updateRunningTimerDuration());\n        \n        // Calculer le temps écoulé\n        const startTime = new Date(runningTimer.startTime).getTime();\n        const now = Date.now();\n        let totalDuration = Math.floor((now - startTime) / 1000);\n        \n        // Soustraire le temps total de pause\n        totalDuration -= runningTimer.totalPausedTime || 0;\n        \n        setElapsedTime(totalDuration);\n      }, 1000);\n    } else if (runningTimer && !runningTimer.isRunning) {\n      // Pour un chronomètre en pause, afficher le temps actuel\n      setElapsedTime(runningTimer.getCurrentDuration || 0);\n    } else {\n      setElapsedTime(0);\n    }\n    \n    return () => {\n      if (timerIntervalRef.current) {\n        clearInterval(timerIntervalRef.current);\n      }\n    };\n  }, [runningTimer, dispatch]);\n  \n  // Formater le temps écoulé en HH:MM:SS\n  const formatTime = (seconds: number): string => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    \n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n  \n  // Démarrer un nouveau chronomètre\n  const handleStartTimer = () => {\n    if (!selectedClientId) return;\n    \n    dispatch(startTimer({\n      clientId: selectedClientId,\n      taskId: selectedTaskId || undefined,\n      description,\n      billable\n    }));\n    \n    setShowNewTimerForm(false);\n  };\n  \n  // Mettre en pause le chronomètre en cours\n  const handlePauseTimer = () => {\n    if (runningTimer && runningTimer.isRunning) {\n      dispatch(pauseTimer(runningTimer._id));\n    }\n  };\n  \n  // Reprendre le chronomètre en pause\n  const handleResumeTimer = () => {\n    if (runningTimer && !runningTimer.isRunning) {\n      dispatch(resumeTimer(runningTimer._id));\n    }\n  };\n  \n  // Arrêter le chronomètre en cours\n  const handleStopTimer = () => {\n    if (runningTimer) {\n      dispatch(stopTimer(runningTimer._id));\n    }\n  };\n  \n  // Fermer la popup\n  const handleClosePopup = () => {\n    dispatch(hideTimerPopup());\n  };\n  \n  // Changer la taille de la popup\n  const handleChangeSize = (size: 'compact' | 'standard' | 'expanded') => {\n    dispatch(setTimerPopupSize(size));\n  };\n  \n  // Gérer le début du drag\n  const handleDragStart = (event: React.PointerEvent<HTMLDivElement>) => {\n    dragControls.start(event);\n  };\n  \n  // Gérer la fin du drag\n  const handleDragEnd = (info: any) => {\n    dispatch(setTimerPopupPosition({\n      x: timerPopupPosition.x + info.offset.x,\n      y: timerPopupPosition.y + info.offset.y\n    }));\n  };\n  \n  // Récupérer les informations de rentabilité du client sélectionné\n  const getClientProfitability = () => {\n    if (!runningTimer || !runningTimer.clientId) return null;\n    \n    const clientId = typeof runningTimer.clientId === 'string' \n      ? runningTimer.clientId \n      : runningTimer.clientId._id;\n    \n    return clientsProfitability.find(p => p.clientId._id === clientId);\n  };\n  \n  // Calculer le temps restant pour la rentabilité\n  const getRemainingTimeForProfitability = () => {\n    const profitability = getClientProfitability();\n    if (!profitability || profitability.remainingHours <= 0) return null;\n    \n    // Convertir les heures en secondes\n    const remainingSeconds = Math.ceil(profitability.remainingHours * 3600);\n    \n    // Soustraire le temps actuel du chronomètre si facturable\n    if (runningTimer && runningTimer.billable) {\n      return Math.max(0, remainingSeconds - elapsedTime);\n    }\n    \n    return remainingSeconds;\n  };\n  \n  // Si la popup n'est pas visible, ne rien afficher\n  if (!timerPopupVisible) {\n    return null;\n  }\n  \n  return (\n    <motion.div\n      drag\n      dragControls={dragControls}\n      onDragEnd={handleDragEnd}\n      dragMomentum={false}\n      initial={{ x: timerPopupPosition.x, y: timerPopupPosition.y }}\n      animate={{ x: timerPopupPosition.x, y: timerPopupPosition.y }}\n      className={`fixed z-50 bg-white rounded-lg shadow-lg overflow-hidden ${\n        timerPopupSize === 'compact' ? 'w-64' : \n        timerPopupSize === 'standard' ? 'w-80' : \n        'w-96'\n      }`}\n    >\n      {/* Barre de titre avec poignée de drag */}\n      <div \n        className=\"bg-blue-600 text-white px-4 py-2 flex justify-between items-center cursor-move\"\n        onPointerDown={handleDragStart}\n      >\n        <div className=\"font-semibold\">\n          {runningTimer ? 'Chronomètre en cours' : 'Nouveau chronomètre'}\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => handleChangeSize('compact')}\n            className={`w-3 h-3 rounded-full ${timerPopupSize === 'compact' ? 'bg-white' : 'bg-blue-300'}`}\n            title=\"Compact\"\n          />\n          <button\n            onClick={() => handleChangeSize('standard')}\n            className={`w-3 h-3 rounded-full ${timerPopupSize === 'standard' ? 'bg-white' : 'bg-blue-300'}`}\n            title=\"Standard\"\n          />\n          <button\n            onClick={() => handleChangeSize('expanded')}\n            className={`w-3 h-3 rounded-full ${timerPopupSize === 'expanded' ? 'bg-white' : 'bg-blue-300'}`}\n            title=\"Étendu\"\n          />\n          <button\n            onClick={handleClosePopup}\n            className=\"ml-2 text-white hover:text-red-200\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n      \n      <div className=\"p-4\">\n        {error && (\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded mb-4 text-sm\">\n            {typeof error === 'string' ? error : 'Une erreur est survenue'}\n          </div>\n        )}\n        \n        {runningTimer ? (\n          <>\n            {/* Affichage du chronomètre en cours */}\n            <div className=\"mb-4\">\n              <div className=\"text-4xl font-mono text-center font-bold\">\n                {formatTime(elapsedTime)}\n              </div>\n            </div>\n            \n            {timerPopupSize !== 'compact' && (\n              <div className=\"mb-4\">\n                <div className=\"text-sm text-gray-600 mb-1\">Client:</div>\n                <div className=\"font-medium\">\n                  {runningTimer.clientId?.name || 'Client inconnu'}\n                </div>\n                \n                {runningTimer.taskId && (\n                  <>\n                    <div className=\"text-sm text-gray-600 mt-2 mb-1\">Tâche:</div>\n                    <div className=\"font-medium\">\n                      {runningTimer.taskId?.title || 'Tâche inconnue'}\n                    </div>\n                  </>\n                )}\n                \n                {runningTimer.description && (\n                  <>\n                    <div className=\"text-sm text-gray-600 mt-2 mb-1\">Description:</div>\n                    <div className=\"text-sm\">\n                      {runningTimer.description}\n                    </div>\n                  </>\n                )}\n              </div>\n            )}\n            \n            {timerPopupSize === 'expanded' && (\n              <div className=\"mb-4\">\n                <div className=\"text-sm text-gray-600 mb-1\">Statut de facturation:</div>\n                <div className={`font-medium ${runningTimer.billable ? 'text-green-600' : 'text-gray-600'}`}>\n                  {runningTimer.billable ? 'Facturable' : 'Non facturable'}\n                </div>\n                \n                {runningTimer.billable && (\n                  <>\n                    <div className=\"text-sm text-gray-600 mt-2 mb-1\">Rentabilité:</div>\n                    {getClientProfitability() ? (\n                      <>\n                        <div className={`font-medium ${\n                          getClientProfitability()?.isProfitable ? 'text-green-600' : 'text-red-600'\n                        }`}>\n                          {getClientProfitability()?.isProfitable \n                            ? 'Client rentable' \n                            : 'Client non rentable'}\n                        </div>\n                        \n                        {getRemainingTimeForProfitability() !== null && (\n                          <>\n                            <div className=\"text-sm text-gray-600 mt-2 mb-1\">\n                              Temps restant pour rentabilité:\n                            </div>\n                            <div className=\"font-medium text-red-600\">\n                              {formatTime(getRemainingTimeForProfitability() || 0)}\n                            </div>\n                          </>\n                        )}\n                      </>\n                    ) : (\n                      <div className=\"text-sm text-gray-600\">\n                        Données de rentabilité non disponibles\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n            )}\n            \n            <div className=\"flex justify-between\">\n              {runningTimer.isRunning ? (\n                <button\n                  onClick={handlePauseTimer}\n                  className=\"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 flex-1 mr-2\"\n                  disabled={loading}\n                >\n                  {loading ? 'Patientez...' : 'Pause'}\n                </button>\n              ) : (\n                <button\n                  onClick={handleResumeTimer}\n                  className=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 flex-1 mr-2\"\n                  disabled={loading}\n                >\n                  {loading ? 'Patientez...' : 'Reprendre'}\n                </button>\n              )}\n              \n              <button\n                onClick={handleStopTimer}\n                className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 flex-1\"\n                disabled={loading}\n              >\n                {loading ? 'Patientez...' : 'Arrêter'}\n              </button>\n            </div>\n          </>\n        ) : (\n          <>\n            {/* Formulaire pour démarrer un nouveau chronomètre */}\n            {showNewTimerForm ? (\n              <div>\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Client *\n                  </label>\n                  <select\n                    value={selectedClientId}\n                    onChange={(e) => setSelectedClientId(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    required\n                  >\n                    <option value=\"\">Sélectionner un client</option>\n                    {clients.map((client) => (\n                      <option key={client._id} value={client._id}>\n                        {client.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Tâche (optionnel)\n                  </label>\n                  <select\n                    value={selectedTaskId}\n                    onChange={(e) => setSelectedTaskId(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  >\n                    <option value=\"\">Aucune tâche</option>\n                    {tasks\n                      .filter(task => !selectedClientId || task.clientId === selectedClientId)\n                      .map((task) => (\n                        <option key={task._id} value={task._id}>\n                          {task.title}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Description (optionnel)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={description}\n                    onChange={(e) => setDescription(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"Que faites-vous ?\"\n                  />\n                </div>\n                \n                <div className=\"mb-4\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={billable}\n                      onChange={(e) => setBillable(e.target.checked)}\n                      className=\"h-4 w-4 text-blue-600 border-gray-300 rounded\"\n                    />\n                    <span className=\"ml-2 text-sm text-gray-700\">Facturable</span>\n                  </label>\n                </div>\n                \n                <div className=\"flex justify-between\">\n                  <button\n                    onClick={() => setShowNewTimerForm(false)}\n                    className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\"\n                  >\n                    Annuler\n                  </button>\n                  <button\n                    onClick={handleStartTimer}\n                    className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n                    disabled={!selectedClientId || loading}\n                  >\n                    {loading ? 'Patientez...' : 'Démarrer'}\n                  </button>\n                </div>\n              </div>\n            ) : (\n              <button\n                onClick={() => setShowNewTimerForm(true)}\n                className=\"w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\n              >\n                Démarrer un chronomètre\n              </button>\n            )}\n          </>\n        )}\n      </div>\n    </motion.div>\n  );\n};\n\nexport default TimerPopup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}